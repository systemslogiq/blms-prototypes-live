import{R as v,j as e,r as o}from"./index-BpUPXFMX.js";import{M as F,a as ae,F as le,b as Me}from"./mockData-uIVkkUgu.js";import{S as B,P as Y}from"./statusConfig-j4-cdvFl.js";import{R as Oe,L as ne,T as re,C as ie,a as ze,b as Fe,P as He,c as ce,d as qe,e as oe,D as de,O as xe}from"./index-BUji3D0R.js";import{R as me,V as Ve,S as $e,T as Ke,u as Ue}from"./index-Cjs1GuQn.js";import{c as O,X as Ge}from"./x-B2tdQpz0.js";import{c as Xe,P as Ye,a as H,u as Qe,b as he,d as Q,L as We}from"./index-DiC1I7Se.js";import{u as Ze}from"./index-8BzQmtyL.js";import{C as Je}from"./check-DZ2qiFq9.js";import{U as pe,S as es,P as ss}from"./user-CsfED6aG.js";import{C as q,L as I,M as ts}from"./message-circle-__VaBCGe.js";import{C as as}from"./chevron-down-CE2CQZcL.js";import{S as ls}from"./sliders-horizontal-D4GeyLjT.js";import{C as ns,S as rs}from"./shield-ChcZ0Qeh.js";import{C as is}from"./chart-column-Cry5YYKU.js";import{B as cs}from"./book-open-Brd6HPEI.js";import{M as ue}from"./map-pin-BV9E3njX.js";const os=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],fe=O("clipboard-check",os);const ds=[["path",{d:"M12 6v6h4",key:"135r8i"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],be=O("clock-3",ds);const xs=[["path",{d:"M2 5h20",key:"1fs1ex"}],["path",{d:"M6 12h12",key:"8npq4p"}],["path",{d:"M9 19h6",key:"456am0"}]],ms=O("list-filter",xs);const hs=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],ps=O("sparkles",hs);function m(...s){return s.filter(Boolean).join(" ")}const us={default:"bg-blue-600 text-white hover:bg-blue-700",secondary:"bg-slate-800 text-slate-50 hover:bg-slate-700",outline:"border border-slate-600 text-slate-100 hover:bg-slate-800 hover:border-slate-500",ghost:"bg-transparent text-slate-200 hover:bg-slate-800",destructive:"bg-red-600 text-white hover:bg-red-700",link:"bg-transparent text-blue-400 hover:underline px-0"},fs={default:"h-9 px-4",sm:"h-8 px-3 text-xs",lg:"h-10 px-6",icon:"h-9 w-9 p-0"},k=v.forwardRef(({className:s,variant:t="default",size:a="default",...r},i)=>e.jsx("button",{ref:i,className:m("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-slate-950 disabled:opacity-50 disabled:pointer-events-none",us[t],fs[a],s),...r}));k.displayName="Button";const bs="slv4-badge inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold",W={default:"slv4-badge-default",secondary:"slv4-badge-secondary",muted:"slv4-badge-muted",success:"slv4-badge-success",warning:"slv4-badge-warning",danger:"slv4-badge-danger"},V=v.forwardRef(({className:s,variant:t="default",...a},r)=>e.jsx("span",{ref:r,className:m(bs,W[t]||W.default,s),...a}));V.displayName="Badge";const P=v.forwardRef(({className:s,type:t="text",...a},r)=>e.jsx("input",{ref:r,type:t,className:m("flex h-9 w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-1 text-sm text-slate-50 shadow-sm placeholder:text-slate-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:cursor-not-allowed disabled:opacity-50",s),...a}));P.displayName="Input";const M=v.forwardRef(({className:s,...t},a)=>e.jsx("textarea",{ref:a,className:m("flex min-h-[80px] w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 shadow-sm placeholder:text-slate-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:cursor-not-allowed disabled:opacity-50",s),...t}));M.displayName="Textarea";const ge=Oe,$=v.forwardRef(({className:s,...t},a)=>e.jsx(ne,{ref:a,className:m("slv4-tabs-list inline-flex h-8 items-center justify-center gap-1 rounded-full px-1 text-[11px] font-medium",s),...t}));$.displayName=ne.displayName;const C=v.forwardRef(({className:s,...t},a)=>e.jsx(re,{ref:a,className:m("slv4-tabs-trigger inline-flex items-center justify-center whitespace-nowrap rounded-full px-3 py-1 text-[11px] font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-500 focus-visible:ring-offset-2 focus-visible:ring-offset-transparent",s),...t}));C.displayName=re.displayName;const R=v.forwardRef(({className:s,...t},a)=>e.jsx(ie,{ref:a,className:m("mt-3 focus:outline-none",s),...t}));R.displayName=ie.displayName;const je=v.forwardRef(({className:s,children:t,...a},r)=>e.jsxs(me,{ref:r,className:m("relative overflow-hidden",s),...a,children:[e.jsx(Ve,{className:"h-full w-full rounded-[inherit]",children:t}),e.jsx($e,{orientation:"vertical",className:"flex touch-none select-none flex-col bg-slate-950/80 p-0.5",children:e.jsx(Ke,{className:"relative flex-1 rounded-full bg-slate-700"})})]}));je.displayName=me.displayName;const Ne=ze,gs=Fe,js=He,ve=v.forwardRef(({className:s,...t},a)=>e.jsx(xe,{ref:a,className:m("fixed inset-0 z-40 bg-black/60 backdrop-blur-sm",s),...t}));ve.displayName=xe.displayName;const K=v.forwardRef(({className:s,children:t,...a},r)=>e.jsxs(js,{children:[e.jsx(ve,{}),e.jsxs(ce,{ref:r,className:m("fixed left-1/2 top-1/2 z-50 w-full max-w-3xl -translate-x-1/2 -translate-y-1/2 rounded-xl border border-slate-700 bg-slate-950 px-6 py-5 shadow-xl focus:outline-none",s),...a,children:[t,e.jsx(qe,{className:"absolute right-4 top-4 rounded-full p-1 text-slate-400 hover:bg-slate-800 hover:text-slate-100 focus:outline-none focus:ring-2 focus:ring-blue-500",children:e.jsx(Ge,{className:"h-4 w-4"})})]})]}));K.displayName=ce.displayName;const Ns=({className:s,...t})=>e.jsx("div",{className:m("flex flex-col space-y-1.5 text-left",s),...t}),ye=v.forwardRef(({className:s,...t},a)=>e.jsx(oe,{ref:a,className:m("text-lg font-semibold leading-tight",s),...t}));ye.displayName=oe.displayName;const we=v.forwardRef(({className:s,...t},a)=>e.jsx(de,{ref:a,className:m("text-sm text-slate-400",s),...t}));we.displayName=de.displayName;const vs=({className:s,...t})=>e.jsx("div",{className:m("mt-4 flex flex-col-reverse gap-2 sm:flex-row sm:justify-end sm:gap-3",s),...t});var z="Checkbox",[ys]=Xe(z),[ws,U]=ys(z);function ks(s){const{__scopeCheckbox:t,checked:a,children:r,defaultChecked:i,disabled:l,form:d,name:h,onCheckedChange:b,required:N,value:g="on",internal_do_not_use_render:f}=s,[n,y]=Qe({prop:a,defaultProp:i??!1,onChange:b,caller:z}),[j,w]=o.useState(null),[c,p]=o.useState(null),u=o.useRef(!1),T=j?!!d||!!j.closest("form"):!0,A={checked:n,disabled:l,setChecked:y,control:j,setControl:w,name:h,form:d,value:g,hasConsumerStoppedPropagationRef:u,required:N,defaultChecked:S(i)?!1:i,isFormControl:T,bubbleInput:c,setBubbleInput:p};return e.jsx(ws,{scope:t,...A,children:Cs(f)?f(A):r})}var ke="CheckboxTrigger",Ce=o.forwardRef(({__scopeCheckbox:s,onKeyDown:t,onClick:a,...r},i)=>{const{control:l,value:d,disabled:h,checked:b,required:N,setControl:g,setChecked:f,hasConsumerStoppedPropagationRef:n,isFormControl:y,bubbleInput:j}=U(ke,s),w=he(i,g),c=o.useRef(b);return o.useEffect(()=>{const p=l?.form;if(p){const u=()=>f(c.current);return p.addEventListener("reset",u),()=>p.removeEventListener("reset",u)}},[l,f]),e.jsx(H.button,{type:"button",role:"checkbox","aria-checked":S(b)?"mixed":b,"aria-required":N,"data-state":Re(b),"data-disabled":h?"":void 0,disabled:h,value:d,...r,ref:w,onKeyDown:Q(t,p=>{p.key==="Enter"&&p.preventDefault()}),onClick:Q(a,p=>{f(u=>S(u)?!0:!u),j&&y&&(n.current=p.isPropagationStopped(),n.current||p.stopPropagation())})})});Ce.displayName=ke;var G=o.forwardRef((s,t)=>{const{__scopeCheckbox:a,name:r,checked:i,defaultChecked:l,required:d,disabled:h,value:b,onCheckedChange:N,form:g,...f}=s;return e.jsx(ks,{__scopeCheckbox:a,checked:i,defaultChecked:l,disabled:h,required:d,onCheckedChange:N,name:r,form:g,value:b,internal_do_not_use_render:({isFormControl:n})=>e.jsxs(e.Fragment,{children:[e.jsx(Ce,{...f,ref:t,__scopeCheckbox:a}),n&&e.jsx(Ae,{__scopeCheckbox:a})]})})});G.displayName=z;var Se="CheckboxIndicator",Ee=o.forwardRef((s,t)=>{const{__scopeCheckbox:a,forceMount:r,...i}=s,l=U(Se,a);return e.jsx(Ye,{present:r||S(l.checked)||l.checked===!0,children:e.jsx(H.span,{"data-state":Re(l.checked),"data-disabled":l.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...s.style}})})});Ee.displayName=Se;var Te="CheckboxBubbleInput",Ae=o.forwardRef(({__scopeCheckbox:s,...t},a)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:l,defaultChecked:d,required:h,disabled:b,name:N,value:g,form:f,bubbleInput:n,setBubbleInput:y}=U(Te,s),j=he(a,y),w=Ue(l),c=Ze(r);o.useEffect(()=>{const u=n;if(!u)return;const T=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(T,"checked").set,x=!i.current;if(w!==l&&_){const E=new Event("click",{bubbles:x});u.indeterminate=S(l),_.call(u,S(l)?!1:l),u.dispatchEvent(E)}},[n,w,l,i]);const p=o.useRef(S(l)?!1:l);return e.jsx(H.input,{type:"checkbox","aria-hidden":!0,defaultChecked:d??p.current,required:h,disabled:b,name:N,value:g,form:f,...t,tabIndex:-1,ref:j,style:{...t.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Ae.displayName=Te;function Cs(s){return typeof s=="function"}function S(s){return s==="indeterminate"}function Re(s){return S(s)?"indeterminate":s?"checked":"unchecked"}const X=v.forwardRef(({className:s,...t},a)=>e.jsx(G,{ref:a,className:m("peer h-4 w-4 shrink-0 rounded-sm border border-slate-600 bg-slate-950 text-slate-50 ring-offset-slate-950 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 data-[state=checked]:bg-blue-600 data-[state=checked]:border-blue-500",s),...t,children:e.jsx(Ee,{className:"flex items-center justify-center text-current",children:e.jsx(Je,{className:"h-3 w-3"})})}));X.displayName=G.displayName;const De=v.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,className:m("slv4-card rounded-xl border border-slate-800 shadow-sm",s),...t}));De.displayName="Card";const Ss=({className:s,...t})=>e.jsx("div",{className:m("flex flex-col gap-1.5 border-b border-slate-800 px-4 py-3",s),...t}),Es=({className:s,...t})=>e.jsx("h3",{className:m("text-sm font-semibold leading-tight",s),...t}),Ts=({className:s,...t})=>e.jsx("p",{className:m("text-xs text-slate-400",s),...t}),As=({className:s,...t})=>e.jsx("div",{className:m("px-4 py-3 text-sm",s),...t}),Rs=({className:s,...t})=>e.jsx("div",{className:m("flex items-center justify-between gap-2 border-t border-slate-800 px-4 py-3",s),...t}),Ds=[{id:"platform",label:"Platform services",icon:We},{id:"parameter-master",label:"Parameter Master",icon:ls},{id:"manual-entry",label:"Manual & Lab entry",icon:ns},{id:"filter-studio",label:"Filter Studio",icon:le},{id:"dashboards",label:"Dashboards",icon:is},{id:"reporting",label:"Reporting & exports",icon:fe},{id:"campaigns",label:"Campaigns",icon:q},{id:"shift-book",label:"Shift Book",icon:cs},{id:"admin",label:"Administration",icon:rs}],Z={open:{label:B.open,badgeVariant:"warning"},in_progress:{label:B.in_progress,badgeVariant:"secondary"},completed:{label:B.completed,badgeVariant:"success"},cancelled:{label:B.cancelled,badgeVariant:"muted"}},J={high:"text-red-400",medium:"text-amber-300",normal:"text-emerald-300",low:"text-slate-300"},Ls={record:"Record",instruction:"Instruction",suggestion:"Suggestion"},ee={en:{headerKicker:"BLMS • Shift Book",headerTitle:"Handover cockpit – v4",headerTagline:"Dense, calm shift handovers with a reader-focused workspace that mirrors the future BLMS data model.",densityLabel:"Prototype density",shiftLabel:"Shift B • Aarberg",searchPlaceholder:"Search by title, equipment, KAP, or free text…",statusOpen:"Open",statusInProgress:"In progress",statusCompleted:"Completed",statusAll:"All",last24Hours:"Last 24 hours",allAreas:"All areas",entriesTitle:"Entries",visibleSuffix:"visible",workspaceTitle:"Entry workspace",workspaceHint:"Optimised for 14 visible rows & focused reader space",newEntry:"New handover entry",blmsNavTitle:"BLMS navigation",themeDark:"Dark",themeLight:"Light",langEn:"EN",langDe:"DE",editEntry:"Edit entry",handoverComplete:"Handover complete",saveChanges:"Save changes",cancel:"Cancel"},de:{headerKicker:"BLMS • Schichtbuch",headerTitle:"Übergabecockpit – v4",headerTagline:"Ruhige, dichte Schichtübergaben mit einem lesefokussierten Arbeitsbereich.",densityLabel:"Prototyp-Dichte",shiftLabel:"Schicht B • Aarberg",searchPlaceholder:"Nach Titel, Anlage, KAP oder Freitext suchen…",statusOpen:"Offen",statusInProgress:"In Bearbeitung",statusCompleted:"Abgeschlossen",statusAll:"Alle",last24Hours:"Letzte 24 Stunden",allAreas:"Alle Bereiche",entriesTitle:"Einträge",visibleSuffix:"sichtbar",workspaceTitle:"Eintragsarbeitsbereich",workspaceHint:"Optimiert für 14 sichtbare Zeilen und einen ruhigen Lesebereich",newEntry:"Neue Übergabe",blmsNavTitle:"BLMS-Navigation",themeDark:"Dunkel",themeLight:"Hell",langEn:"EN",langDe:"DE",editEntry:"Eintrag bearbeiten",handoverComplete:"Übergabe erledigt",saveChanges:"Änderungen speichern",cancel:"Abbrechen"}};function se({activeId:s="shift-book",orientation:t="horizontal",labels:a}){const r=t==="vertical";return e.jsx("nav",{className:r?"flex flex-col gap-1":"inline-flex flex-wrap items-center gap-1.5 rounded-full bg-slate-950/80 px-2 py-1",children:Ds.map(i=>{const l=i.id===s,d=i.icon,h=a?.[i.id]||i.label;return e.jsxs("button",{type:"button",className:["inline-flex items-center gap-1.5 rounded-full px-3 py-1 text-[11px] font-medium transition-colors",r?"w-full justify-start":"",l?"bg-sky-600 text-white shadow-sm":"bg-slate-900/80 text-slate-300 hover:bg-slate-800/80"].join(" "),children:[d&&e.jsx(d,{className:"h-3.5 w-3.5"}),e.jsx("span",{children:h}),!l&&e.jsx("span",{className:"ml-1 rounded-full bg-slate-800 px-1.5 text-[9px] font-semibold uppercase tracking-wide text-slate-400",children:"Stub"})]},i.id)})})}function D(s){return s?new Date(s).toLocaleString(void 0,{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"}):"—"}function Is(s){return s?new Date(s).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"}):"—"}function L(s){return Me[s]||{name:"Unknown"}}function Le(s){return ae[s]||{name:"Unknown area"}}function Ie(s){const t=Z[s.status]||Z.open;return{text:t.label,variant:t.badgeVariant}}function Pe(s){const t=J[s.priority]||J.normal,a=Y[s.priority]||Y.normal;return{tone:t,label:a}}function _e(s){return Ls[s.type]||"Record"}function Ps(s,t,a,r){const i=t.trim().toLowerCase();return s.filter(l=>a!=="all"&&l.status!==a||r!=="all"&&l.areaId!==r?!1:i?[l.id,l.title,l.equipment,l.description].filter(Boolean).join(" ").toLowerCase().includes(i):!0)}function _s({entry:s,active:t,onSelect:a}){const{text:r,variant:i}=Ie(s),l=Pe(s),d=Le(s.areaId),h=L(s.createdById);return e.jsxs("button",{type:"button",onClick:()=>a(s),className:["slv4-entry-row w-full rounded-lg border px-3 py-3 text-left transition-all","flex flex-col gap-2 bg-slate-900/40 hover:bg-slate-900/70",t?"border-primary/80 shadow-[0_0_0_1px_rgba(59,130,246,0.7)]":"border-slate-800/80 hover:border-slate-700"].join(" "),children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(V,{variant:i,className:"mt-0.5",children:r}),e.jsxs("span",{className:["text-[11px] font-medium tracking-wide uppercase rounded-full bg-slate-800/70 px-2 py-0.5",l.tone].join(" "),children:[l.label," priority"]}),e.jsxs("span",{className:"ml-auto inline-flex items-center gap-1 text-[11px] text-slate-400",children:[e.jsx(q,{className:"h-3 w-3"}),Is(s.createdAt)]})]}),e.jsx("div",{className:"flex items-start gap-3",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-[11px] font-mono text-slate-400",children:s.id}),e.jsx("span",{className:"inline-flex items-center rounded-full bg-slate-800/70 px-2 py-0.5 text-[11px] text-sky-300",children:_e(s)})]}),e.jsx("h3",{className:"mt-1 line-clamp-2 text-sm font-medium text-slate-50",children:s.title}),e.jsx("p",{className:"mt-1 line-clamp-2 text-xs text-slate-400",children:s.description})]})}),e.jsxs("div",{className:"mt-2 flex items-center justify-between text-[11px] text-slate-400",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-slate-800/70 px-2 py-0.5",children:[e.jsx(ue,{className:"h-3 w-3"}),e.jsx("span",{children:d.name})]}),e.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-slate-800/70 px-2 py-0.5",children:[e.jsx(I,{className:"h-3 w-3"}),e.jsx("span",{children:s.equipment})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"inline-flex items-center gap-1",children:[e.jsx(pe,{className:"h-3 w-3"}),e.jsx("span",{children:h.name})]}),e.jsxs("span",{className:"inline-flex items-center gap-1",children:[e.jsx(be,{className:"h-3 w-3"}),e.jsx("span",{children:D(s.createdAt)})]})]})]})]})}function te({entry:s}){const t=Ie(s),a=Pe(s),r=Le(s.areaId),i=L(s.createdById),l=L(s.assignedToId),[d,h]=o.useState(!1),[b,N]=o.useState(s.description||""),[g,f]=o.useState(s.checklist||[]);return o.useEffect(()=>{h(!1),N(s.description||""),f(s.checklist||[])},[s]),e.jsxs(De,{className:"h-full backdrop-blur border-slate-800",children:[e.jsxs(Ss,{children:[e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx(V,{variant:t.variant,children:t.text}),e.jsxs("span",{className:["inline-flex items-center rounded-full bg-slate-900 px-2 py-0.5 text-[11px] font-medium tracking-wide uppercase",a.tone].join(" "),children:[a.label," priority"]})]}),e.jsxs("div",{className:"mt-2 flex items-center gap-3 text-xs text-slate-400",children:[e.jsx("span",{className:"font-mono text-[11px] text-slate-500",children:s.id}),e.jsxs("span",{className:"inline-flex items-center gap-1",children:[e.jsx(ue,{className:"h-3 w-3"}),e.jsx("span",{children:r.name})]}),e.jsxs("span",{className:"inline-flex items-center gap-1",children:[e.jsx(I,{className:"h-3 w-3"}),e.jsx("span",{children:s.equipment})]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs text-slate-400",children:"Created"}),e.jsx("p",{className:"text-xs font-medium text-slate-100",children:D(s.createdAt)}),s.dueAt&&e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"mt-1 text-xs text-slate-400",children:"Due"}),e.jsx("p",{className:"text-xs font-medium text-slate-100",children:D(s.dueAt)})]})]})]}),e.jsx(Es,{className:"mt-3 text-base text-slate-50",children:s.title}),e.jsxs(Ts,{className:"text-xs text-slate-300",children:[_e(s)," • Shift handover focus"]})]}),e.jsx(As,{className:"pb-0",children:e.jsxs(ge,{defaultValue:"details",children:[e.jsxs($,{children:[e.jsx(C,{value:"details",children:"Details"}),e.jsx(C,{value:"checklist",children:"Checklist"}),e.jsx(C,{value:"comments",children:"Comments"}),e.jsx(C,{value:"history",children:"History"})]}),e.jsx(R,{value:"details",children:e.jsxs("div",{className:"mt-3 space-y-3 text-sm",children:[d?e.jsx(M,{className:"min-h-[120px]",value:b,onChange:n=>N(n.target.value)}):e.jsx("p",{className:"text-slate-100 whitespace-pre-line",children:b}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs text-slate-300",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wide text-slate-500",children:"Created by"}),e.jsx("p",{children:i.name})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wide text-slate-500",children:"Assigned to"}),e.jsx("p",{children:l.name||"—"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wide text-slate-500",children:"Status"}),e.jsx("p",{children:t.text})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wide text-slate-500",children:"Priority"}),e.jsx("p",{children:a.label})]})]}),s.attachments?.length?e.jsxs("div",{className:"mt-3 space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs font-semibold uppercase tracking-wide text-slate-400",children:[e.jsx(ss,{className:"h-3 w-3"}),"Attachments"]}),e.jsx("ul",{className:"space-y-1 text-xs text-slate-300",children:s.attachments.map(n=>e.jsxs("li",{className:"flex items-center justify-between rounded-md bg-slate-900 px-2 py-1",children:[e.jsx("span",{className:"truncate",children:n.filename}),e.jsx("span",{className:"ml-2 text-[11px] text-slate-500",children:n.size})]},n.id))})]}):null]})}),e.jsx(R,{value:"checklist",children:e.jsx("div",{className:"mt-3 space-y-2",children:g?.length?g.map((n,y)=>e.jsxs("label",{className:"flex items-start gap-2 rounded-md bg-slate-900 px-2 py-1.5 text-xs text-slate-200",children:[e.jsx(X,{checked:n.isDone,className:"mt-0.5",disabled:!d,onCheckedChange:j=>{if(!d)return;const w=[...g];w[y]={...n,isDone:!!j},f(w)}}),e.jsx("span",{className:"flex-1",children:n.text})]},n.id)):e.jsx("p",{className:"text-xs text-slate-400",children:"No checklist items attached to this entry."})})}),e.jsx(R,{value:"comments",children:e.jsxs("div",{className:"mt-3 space-y-3",children:[e.jsx(je,{className:"h-44 rounded-md border border-slate-800 bg-slate-950/60",children:e.jsx("div",{className:"p-3 space-y-3",children:s.comments?.length?s.comments.map(n=>{const y=L(n.authorId);return e.jsxs("div",{className:"rounded-lg bg-slate-900/80 px-3 py-2 text-xs text-slate-100",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsx("span",{className:"font-medium",children:y.name}),e.jsx("span",{className:"text-[11px] text-slate-400",children:D(n.timestamp)})]}),e.jsx("p",{className:"mt-1 text-slate-200 whitespace-pre-line",children:n.body})]},n.id)}):e.jsx("p",{className:"px-2 py-4 text-center text-[11px] text-slate-500",children:"No comments yet — next shift can add notes here."})})}),e.jsxs("div",{className:"flex items-end gap-2 text-xs",children:[e.jsx(M,{placeholder:"Prototype only – imagine @mentions, attachment chips, and offline drafts here…",className:"min-h-[60px] bg-slate-950/60"}),e.jsxs(k,{type:"button",size:"sm",variant:"secondary",className:"whitespace-nowrap",children:[e.jsx(ts,{className:"mr-1 h-3 w-3"}),"Add note"]})]})]})}),e.jsx(R,{value:"history",children:e.jsx("div",{className:"mt-3 space-y-2 text-xs text-slate-300",children:s.history?.length?s.history.map(n=>e.jsxs("div",{className:"flex items-start gap-2 rounded-md bg-slate-900 px-2 py-1.5",children:[e.jsx("div",{className:"mt-0.5 h-1.5 w-1.5 rounded-full bg-sky-400"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium",children:L(n.userId)?.name}),e.jsx("p",{className:"text-slate-200",children:n.action})]}),e.jsx("span",{className:"text-[11px] text-slate-500",children:D(n.timestamp)})]},n.id)):e.jsx("p",{className:"text-xs text-slate-400",children:"History trail would appear here, including approvals and shift sign-off."})})})]})}),e.jsxs(Rs,{children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400",children:[e.jsx(fe,{className:"h-3 w-3"}),e.jsxs("span",{children:[g?.filter(n=>n.isDone).length||0,"/",g?.length||0," items complete"]})]}),e.jsx("div",{className:"flex items-center gap-2",children:d?e.jsxs(e.Fragment,{children:[e.jsx(k,{size:"sm",variant:"ghost",className:"text-slate-300",onClick:()=>{h(!1),N(s.description||""),f(s.checklist||[])},children:"Cancel"}),e.jsx(k,{size:"sm",variant:"secondary",onClick:()=>h(!1),children:"Save changes"})]}):e.jsxs(e.Fragment,{children:[e.jsx(k,{size:"sm",variant:"secondary",onClick:()=>h(!0),children:"Edit entry"}),e.jsx(k,{size:"sm",variant:"ghost",className:"text-slate-300",children:"Handover complete"})]})})]})]})}function Bs(){return e.jsxs(Ne,{children:[e.jsx(gs,{asChild:!0,children:e.jsxs(k,{size:"sm",className:"gap-1.5",children:[e.jsx(ps,{className:"h-4 w-4"}),"New handover entry"]})}),e.jsxs(K,{children:[e.jsxs(Ns,{children:[e.jsx(ye,{children:"Create handover entry"}),e.jsx(we,{children:"Prototype-only form that mirrors key fields from the shift book data model."})]}),e.jsxs("div",{className:"mt-2 grid grid-cols-1 gap-3 text-sm md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("p",{className:"text-xs font-medium text-slate-500",children:"Title"}),e.jsx(P,{placeholder:"Short, action-oriented subject"})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("p",{className:"text-xs font-medium text-slate-500",children:"Type"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(k,{size:"sm",variant:"secondary",children:"Record"}),e.jsx(k,{size:"sm",variant:"ghost",children:"Instruction"}),e.jsx(k,{size:"sm",variant:"ghost",children:"Suggestion"})]})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("p",{className:"text-xs font-medium text-slate-500",children:"Area"}),e.jsx(P,{placeholder:"Area from plant master"})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("p",{className:"text-xs font-medium text-slate-500",children:"Equipment / KAP"}),e.jsx(P,{placeholder:"Scan QR / search KAP…"})]}),e.jsxs("div",{className:"md:col-span-2 space-y-1.5",children:[e.jsx("p",{className:"text-xs font-medium text-slate-500",children:"Description / actions"}),e.jsx(M,{className:"min-h-[120px]",placeholder:"What happened? What should the next shift continue or verify?"})]})]}),e.jsxs("div",{className:"mt-4 flex items-center justify-between text-xs text-slate-500",children:[e.jsxs("div",{className:"inline-flex items-center gap-2",children:[e.jsx(X,{id:"offline",className:"h-3.5 w-3.5"}),e.jsx("label",{htmlFor:"offline",className:"cursor-pointer",children:"Capture offline and sync when connected"})]}),e.jsxs(vs,{className:"mt-0",children:[e.jsx(k,{variant:"ghost",size:"sm",children:"Cancel"}),e.jsx(k,{size:"sm",children:"Save prototype entry"})]})]})]})]})}function et(){const[s,t]=o.useState(""),[a,r]=o.useState("open"),[i,l]=o.useState("all"),[d,h]=o.useState(!1),[b,N]=o.useState(!1),[g,f]=o.useState(!1),[n,y]=o.useState("dark"),[j,w]=o.useState("en"),c=ee[j]||ee.en;o.useEffect(()=>{if(typeof window>"u")return;const x=window.matchMedia("(max-width: 767px)"),E=Be=>h(Be.matches);return E(x),x.addEventListener("change",E),()=>x.removeEventListener("change",E)},[]);const p=o.useMemo(()=>Ps(F,s,a,i),[s,a,i]),[u,T]=o.useState(()=>p[0]||F[0]),A=x=>{T(x),d&&N(!0)},_=[{id:"all",name:c.allAreas},...Object.entries(ae).map(([x,E])=>({id:x,name:E.name}))];return e.jsxs("div",{className:`shiftlog-v4 ${n==="light"?"is-light":"is-dark"} flex min-h-screen flex-col bg-slate-950 text-slate-50`,children:[e.jsx("header",{className:"slv4-header border-b border-slate-900 bg-slate-950/80 backdrop-blur",children:e.jsxs("div",{className:"mx-auto max-w-6xl px-6 py-4",children:[e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-[0.25em] text-sky-400",children:c.headerKicker}),e.jsx("h1",{className:"mt-1 text-xl font-semibold",children:c.headerTitle}),e.jsx("p",{className:"mt-1 max-w-xl text-xs slv4-shell-text-subtle text-slate-400",children:c.headerTagline})]}),e.jsxs("div",{className:"flex flex-col items-end gap-2 text-xs text-slate-400",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full bg-slate-900/80 px-3 py-1",children:[e.jsx(ms,{className:"h-3.5 w-3.5 text-sky-300"}),e.jsx("span",{children:c.densityLabel}),e.jsx("span",{className:"h-1 w-10 rounded-full bg-slate-700",children:e.jsx("span",{className:"block h-1 w-6 rounded-full bg-sky-400"})})]}),e.jsxs("div",{className:"inline-flex items-center gap-2",children:[e.jsx(pe,{className:"h-3.5 w-3.5 text-slate-300"}),e.jsx("span",{children:c.shiftLabel})]}),e.jsxs("div",{className:"inline-flex items-center gap-2",children:[e.jsxs("div",{className:"inline-flex items-center rounded-full bg-slate-900/80 p-0.5",children:[e.jsx("button",{type:"button",onClick:()=>y("dark"),className:`px-2 py-0.5 text-[11px] ${n==="dark"?"rounded-full bg-slate-700 text-slate-50":"text-slate-400"}`,children:c.themeDark}),e.jsx("button",{type:"button",onClick:()=>y("light"),className:`px-2 py-0.5 text-[11px] ${n==="light"?"rounded-full bg-slate-700 text-slate-50":"text-slate-400"}`,children:c.themeLight})]}),e.jsxs("div",{className:"inline-flex items-center rounded-full bg-slate-900/80 p-0.5",children:[e.jsx("button",{type:"button",onClick:()=>w("en"),className:`px-2 py-0.5 text-[11px] ${j==="en"?"rounded-full bg-slate-700 text-slate-50":"text-slate-400"}`,children:c.langEn}),e.jsx("button",{type:"button",onClick:()=>w("de"),className:`px-2 py-0.5 text-[11px] ${j==="de"?"rounded-full bg-slate-700 text-slate-50":"text-slate-400"}`,children:c.langDe})]})]})]})]}),e.jsx("div",{className:"mt-3 hidden md:block",children:e.jsx(se,{activeId:"shift-book",labels:{platform:"Platform services","parameter-master":"Parameter Master","manual-entry":"Manual & Lab entry","filter-studio":"Filter Studio",dashboards:"Dashboards",reporting:"Reporting & exports",campaigns:"Campaigns","shift-book":j==="de"?"Schichtbuch":"Shift Book",admin:"Administration"}})})]})}),e.jsxs("main",{className:"mx-auto flex w-full max-w-6xl flex-1 flex-col gap-4 px-6 py-4",children:[e.jsxs("section",{className:"slv4-panel flex flex-wrap items-center gap-3 rounded-xl border border-slate-900 bg-slate-950/80 px-4 py-3",children:[e.jsx("div",{className:"flex-1 min-w-[220px]",children:e.jsxs("div",{className:"relative",children:[e.jsx(es,{className:"pointer-events-none absolute left-2.5 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-500"}),e.jsx(P,{value:s,onChange:x=>t(x.target.value),placeholder:c.searchPlaceholder,className:"h-9 border-slate-800 bg-slate-950 pl-8 text-xs placeholder:text-slate-500"})]})}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs",children:[e.jsx(ge,{value:a,onValueChange:r,className:"rounded-full bg-slate-900/80 px-1 py-0.5",children:e.jsxs($,{className:"bg-transparent p-0",children:[e.jsx(C,{value:"open",children:c.statusOpen}),e.jsx(C,{value:"in_progress",children:c.statusInProgress}),e.jsx(C,{value:"completed",children:c.statusCompleted}),e.jsx(C,{value:"all",children:c.statusAll})]})}),e.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full bg-slate-900/80 px-3 py-1",children:[e.jsx(q,{className:"h-3.5 w-3.5 text-slate-300"}),e.jsx("span",{children:c.last24Hours}),e.jsx(as,{className:"h-3 w-3 text-slate-500"})]}),e.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full bg-slate-900/80 px-3 py-1",children:[e.jsx(le,{className:"h-3.5 w-3.5 text-slate-300"}),e.jsx("select",{value:i,onChange:x=>l(x.target.value),className:"bg-transparent text-xs outline-none",children:_.map(x=>e.jsx("option",{value:x.id,className:"bg-slate-950 text-slate-100",children:x.name},x.id))})]}),e.jsx(Bs,{})]})]}),e.jsxs("section",{className:"flex flex-1 flex-col gap-4 md:flex-row",children:[e.jsxs("div",{className:"slv4-panel flex w-full flex-col rounded-xl border border-slate-900 bg-slate-950/80 md:w-[40%]",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-slate-900 px-3 py-2 text-[11px] text-slate-400",children:[e.jsxs("div",{className:"inline-flex items-center gap-2",children:[e.jsx(I,{className:"h-3 w-3"}),e.jsx("span",{children:c.entriesTitle})]}),e.jsx("div",{className:"inline-flex items-center gap-2",children:e.jsxs("span",{children:[p.length," of ",F.length," ",c.visibleSuffix]})})]}),e.jsxs("div",{className:"space-y-2 p-3",children:[p.map(x=>e.jsx(_s,{entry:x,active:u?.id===x.id,onSelect:A},x.id)),p.length===0&&e.jsx("div",{className:"flex h-40 items-center justify-center rounded-lg border border-dashed border-slate-800 bg-slate-950/80 text-xs text-slate-500",children:"No entries match this filter. In the real app, saved views and smarter defaults would keep this list populated."})]})]}),!d&&e.jsxs("div",{className:"slv4-panel flex w-full flex-col md:w-[60%]",children:[e.jsxs("div",{className:"mb-2 flex items-center justify-between text-xs text-slate-400",children:[e.jsxs("div",{className:"inline-flex items-center gap-2",children:[e.jsx(be,{className:"h-3 w-3"}),e.jsx("span",{children:c.workspaceTitle})]}),e.jsxs("div",{className:"inline-flex items-center gap-2",children:[e.jsx(I,{className:"h-3 w-3"}),e.jsx("span",{children:c.workspaceHint})]})]}),u?e.jsx(te,{entry:u}):e.jsx("div",{className:"flex h-full items-center justify-center rounded-xl border border-dashed border-slate-800 bg-slate-950/80 text-xs text-slate-500",children:"Pick an entry on the left to open its workspace."})]})]})]}),d&&!b&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{type:"button",onClick:()=>f(!0),className:"fixed bottom-4 right-4 z-40 inline-flex items-center gap-2 rounded-full bg-sky-600 px-3 py-2 text-xs font-semibold text-white shadow-lg md:hidden",children:[e.jsx(I,{className:"h-4 w-4"}),e.jsx("span",{children:"BLMS"})]}),g&&e.jsx("div",{className:"fixed inset-0 z-40 flex items-end justify-center bg-black/40 md:hidden",children:e.jsxs("div",{className:"mb-4 w-full max-w-sm rounded-2xl border border-slate-800 bg-slate-950 p-3 shadow-xl",children:[e.jsxs("div",{className:"mb-2 flex items-center justify-between text-xs text-slate-400",children:[e.jsx("span",{className:"font-semibold text-slate-100",children:c.blmsNavTitle}),e.jsx("button",{type:"button",onClick:()=>f(!1),className:"rounded-full px-2 py-1 text-[11px] text-slate-300 hover:bg-slate-800",children:"Close"})]}),e.jsx(se,{activeId:"shift-book",orientation:"vertical"})]})})]}),d&&e.jsx(Ne,{open:b,onOpenChange:N,children:e.jsx(K,{className:"max-h-[90vh] w-full max-w-md overflow-y-auto p-0",children:u&&e.jsx(te,{entry:u})})})]})}export{et as default};
