import{r as l,j as f}from"./index-BpUPXFMX.js";import{b as T,c as ne,a as L,P as O,d as C,k as x,j as le}from"./index-DiC1I7Se.js";import{u as ce}from"./index-BUji3D0R.js";function se(e,[o,r]){return Math.min(r,Math.max(o,e))}function ie(e,o){return l.useReducer((r,c)=>o[r][c]??r,e)}var U="ScrollArea",[F]=ne(U),[ae,m]=F(U),q=l.forwardRef((e,o)=>{const{__scopeScrollArea:r,type:c="hover",dir:t,scrollHideDelay:n=600,...s}=e,[i,a]=l.useState(null),[h,u]=l.useState(null),[b,d]=l.useState(null),[S,w]=l.useState(null),[A,X]=l.useState(null),[P,_]=l.useState(0),[Y,D]=l.useState(0),[j,y]=l.useState(!1),[W,H]=l.useState(!1),v=T(o,R=>a(R)),p=ce(t);return f.jsx(ae,{scope:r,type:c,dir:p,scrollHideDelay:n,scrollArea:i,viewport:h,onViewportChange:u,content:b,onContentChange:d,scrollbarX:S,onScrollbarXChange:w,scrollbarXEnabled:j,onScrollbarXEnabledChange:y,scrollbarY:A,onScrollbarYChange:X,scrollbarYEnabled:W,onScrollbarYEnabledChange:H,onCornerWidthChange:_,onCornerHeightChange:D,children:f.jsx(L.div,{dir:p,...s,ref:v,style:{position:"relative","--radix-scroll-area-corner-width":P+"px","--radix-scroll-area-corner-height":Y+"px",...e.style}})})});q.displayName=U;var $="ScrollAreaViewport",G=l.forwardRef((e,o)=>{const{__scopeScrollArea:r,children:c,nonce:t,...n}=e,s=m($,r),i=l.useRef(null),a=T(o,i,s.onViewportChange);return f.jsxs(f.Fragment,{children:[f.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:t}),f.jsx(L.div,{"data-radix-scroll-area-viewport":"",...n,ref:a,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...e.style},children:f.jsx("div",{ref:s.onContentChange,style:{minWidth:"100%",display:"table"},children:c})})]})});G.displayName=$;var g="ScrollAreaScrollbar",J=l.forwardRef((e,o)=>{const{forceMount:r,...c}=e,t=m(g,e.__scopeScrollArea),{onScrollbarXEnabledChange:n,onScrollbarYEnabledChange:s}=t,i=e.orientation==="horizontal";return l.useEffect(()=>(i?n(!0):s(!0),()=>{i?n(!1):s(!1)}),[i,n,s]),t.type==="hover"?f.jsx(ue,{...c,ref:o,forceMount:r}):t.type==="scroll"?f.jsx(de,{...c,ref:o,forceMount:r}):t.type==="auto"?f.jsx(K,{...c,ref:o,forceMount:r}):t.type==="always"?f.jsx(V,{...c,ref:o}):null});J.displayName=g;var ue=l.forwardRef((e,o)=>{const{forceMount:r,...c}=e,t=m(g,e.__scopeScrollArea),[n,s]=l.useState(!1);return l.useEffect(()=>{const i=t.scrollArea;let a=0;if(i){const h=()=>{window.clearTimeout(a),s(!0)},u=()=>{a=window.setTimeout(()=>s(!1),t.scrollHideDelay)};return i.addEventListener("pointerenter",h),i.addEventListener("pointerleave",u),()=>{window.clearTimeout(a),i.removeEventListener("pointerenter",h),i.removeEventListener("pointerleave",u)}}},[t.scrollArea,t.scrollHideDelay]),f.jsx(O,{present:r||n,children:f.jsx(K,{"data-state":n?"visible":"hidden",...c,ref:o})})}),de=l.forwardRef((e,o)=>{const{forceMount:r,...c}=e,t=m(g,e.__scopeScrollArea),n=e.orientation==="horizontal",s=I(()=>a("SCROLL_END"),100),[i,a]=ie("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return l.useEffect(()=>{if(i==="idle"){const h=window.setTimeout(()=>a("HIDE"),t.scrollHideDelay);return()=>window.clearTimeout(h)}},[i,t.scrollHideDelay,a]),l.useEffect(()=>{const h=t.viewport,u=n?"scrollLeft":"scrollTop";if(h){let b=h[u];const d=()=>{const S=h[u];b!==S&&(a("SCROLL"),s()),b=S};return h.addEventListener("scroll",d),()=>h.removeEventListener("scroll",d)}},[t.viewport,n,a,s]),f.jsx(O,{present:r||i!=="hidden",children:f.jsx(V,{"data-state":i==="hidden"?"hidden":"visible",...c,ref:o,onPointerEnter:C(e.onPointerEnter,()=>a("POINTER_ENTER")),onPointerLeave:C(e.onPointerLeave,()=>a("POINTER_LEAVE"))})})}),K=l.forwardRef((e,o)=>{const r=m(g,e.__scopeScrollArea),{forceMount:c,...t}=e,[n,s]=l.useState(!1),i=e.orientation==="horizontal",a=I(()=>{if(r.viewport){const h=r.viewport.offsetWidth<r.viewport.scrollWidth,u=r.viewport.offsetHeight<r.viewport.scrollHeight;s(i?h:u)}},10);return E(r.viewport,a),E(r.content,a),f.jsx(O,{present:c||n,children:f.jsx(V,{"data-state":n?"visible":"hidden",...t,ref:o})})}),V=l.forwardRef((e,o)=>{const{orientation:r="vertical",...c}=e,t=m(g,e.__scopeScrollArea),n=l.useRef(null),s=l.useRef(0),[i,a]=l.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),h=re(i.viewport,i.content),u={...c,sizes:i,onSizesChange:a,hasThumb:h>0&&h<1,onThumbChange:d=>n.current=d,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:d=>s.current=d};function b(d,S){return pe(d,s.current,i,S)}return r==="horizontal"?f.jsx(he,{...u,ref:o,onThumbPositionChange:()=>{if(t.viewport&&n.current){const d=t.viewport.scrollLeft,S=B(d,i,t.dir);n.current.style.transform=`translate3d(${S}px, 0, 0)`}},onWheelScroll:d=>{t.viewport&&(t.viewport.scrollLeft=d)},onDragScroll:d=>{t.viewport&&(t.viewport.scrollLeft=b(d,t.dir))}}):r==="vertical"?f.jsx(fe,{...u,ref:o,onThumbPositionChange:()=>{if(t.viewport&&n.current){const d=t.viewport.scrollTop,S=B(d,i);n.current.style.transform=`translate3d(0, ${S}px, 0)`}},onWheelScroll:d=>{t.viewport&&(t.viewport.scrollTop=d)},onDragScroll:d=>{t.viewport&&(t.viewport.scrollTop=b(d))}}):null}),he=l.forwardRef((e,o)=>{const{sizes:r,onSizesChange:c,...t}=e,n=m(g,e.__scopeScrollArea),[s,i]=l.useState(),a=l.useRef(null),h=T(o,a,n.onScrollbarXChange);return l.useEffect(()=>{a.current&&i(getComputedStyle(a.current))},[a]),f.jsx(Z,{"data-orientation":"horizontal",...t,ref:h,sizes:r,style:{bottom:0,left:n.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:n.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":M(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,b)=>{if(n.viewport){const d=n.viewport.scrollLeft+u.deltaX;e.onWheelScroll(d),te(d,b)&&u.preventDefault()}},onResize:()=>{a.current&&n.viewport&&s&&c({content:n.viewport.scrollWidth,viewport:n.viewport.offsetWidth,scrollbar:{size:a.current.clientWidth,paddingStart:N(s.paddingLeft),paddingEnd:N(s.paddingRight)}})}})}),fe=l.forwardRef((e,o)=>{const{sizes:r,onSizesChange:c,...t}=e,n=m(g,e.__scopeScrollArea),[s,i]=l.useState(),a=l.useRef(null),h=T(o,a,n.onScrollbarYChange);return l.useEffect(()=>{a.current&&i(getComputedStyle(a.current))},[a]),f.jsx(Z,{"data-orientation":"vertical",...t,ref:h,sizes:r,style:{top:0,right:n.dir==="ltr"?0:void 0,left:n.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":M(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,b)=>{if(n.viewport){const d=n.viewport.scrollTop+u.deltaY;e.onWheelScroll(d),te(d,b)&&u.preventDefault()}},onResize:()=>{a.current&&n.viewport&&s&&c({content:n.viewport.scrollHeight,viewport:n.viewport.offsetHeight,scrollbar:{size:a.current.clientHeight,paddingStart:N(s.paddingTop),paddingEnd:N(s.paddingBottom)}})}})}),[be,Q]=F(g),Z=l.forwardRef((e,o)=>{const{__scopeScrollArea:r,sizes:c,hasThumb:t,onThumbChange:n,onThumbPointerUp:s,onThumbPointerDown:i,onThumbPositionChange:a,onDragScroll:h,onWheelScroll:u,onResize:b,...d}=e,S=m(g,r),[w,A]=l.useState(null),X=T(o,v=>A(v)),P=l.useRef(null),_=l.useRef(""),Y=S.viewport,D=c.content-c.viewport,j=x(u),y=x(a),W=I(b,10);function H(v){if(P.current){const p=v.clientX-P.current.left,R=v.clientY-P.current.top;h({x:p,y:R})}}return l.useEffect(()=>{const v=p=>{const R=p.target;w?.contains(R)&&j(p,D)};return document.addEventListener("wheel",v,{passive:!1}),()=>document.removeEventListener("wheel",v,{passive:!1})},[Y,w,D,j]),l.useEffect(y,[c,y]),E(w,W),E(S.content,W),f.jsx(be,{scope:r,scrollbar:w,hasThumb:t,onThumbChange:x(n),onThumbPointerUp:x(s),onThumbPositionChange:y,onThumbPointerDown:x(i),children:f.jsx(L.div,{...d,ref:X,style:{position:"absolute",...d.style},onPointerDown:C(e.onPointerDown,v=>{v.button===0&&(v.target.setPointerCapture(v.pointerId),P.current=w.getBoundingClientRect(),_.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",S.viewport&&(S.viewport.style.scrollBehavior="auto"),H(v))}),onPointerMove:C(e.onPointerMove,H),onPointerUp:C(e.onPointerUp,v=>{const p=v.target;p.hasPointerCapture(v.pointerId)&&p.releasePointerCapture(v.pointerId),document.body.style.webkitUserSelect=_.current,S.viewport&&(S.viewport.style.scrollBehavior=""),P.current=null})})})}),z="ScrollAreaThumb",ee=l.forwardRef((e,o)=>{const{forceMount:r,...c}=e,t=Q(z,e.__scopeScrollArea);return f.jsx(O,{present:r||t.hasThumb,children:f.jsx(Se,{ref:o,...c})})}),Se=l.forwardRef((e,o)=>{const{__scopeScrollArea:r,style:c,...t}=e,n=m(z,r),s=Q(z,r),{onThumbPositionChange:i}=s,a=T(o,b=>s.onThumbChange(b)),h=l.useRef(void 0),u=I(()=>{h.current&&(h.current(),h.current=void 0)},100);return l.useEffect(()=>{const b=n.viewport;if(b){const d=()=>{if(u(),!h.current){const S=we(b,i);h.current=S,i()}};return i(),b.addEventListener("scroll",d),()=>b.removeEventListener("scroll",d)}},[n.viewport,u,i]),f.jsx(L.div,{"data-state":s.hasThumb?"visible":"hidden",...t,ref:a,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...c},onPointerDownCapture:C(e.onPointerDownCapture,b=>{const S=b.target.getBoundingClientRect(),w=b.clientX-S.left,A=b.clientY-S.top;s.onThumbPointerDown({x:w,y:A})}),onPointerUp:C(e.onPointerUp,s.onThumbPointerUp)})});ee.displayName=z;var k="ScrollAreaCorner",ve=l.forwardRef((e,o)=>{const r=m(k,e.__scopeScrollArea),c=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&c?f.jsx(me,{...e,ref:o}):null});ve.displayName=k;var me=l.forwardRef((e,o)=>{const{__scopeScrollArea:r,...c}=e,t=m(k,r),[n,s]=l.useState(0),[i,a]=l.useState(0),h=!!(n&&i);return E(t.scrollbarX,()=>{const u=t.scrollbarX?.offsetHeight||0;t.onCornerHeightChange(u),a(u)}),E(t.scrollbarY,()=>{const u=t.scrollbarY?.offsetWidth||0;t.onCornerWidthChange(u),s(u)}),h?f.jsx(L.div,{...c,ref:o,style:{width:n,height:i,position:"absolute",right:t.dir==="ltr"?0:void 0,left:t.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function N(e){return e?parseInt(e,10):0}function re(e,o){const r=e/o;return isNaN(r)?0:r}function M(e){const o=re(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,c=(e.scrollbar.size-r)*o;return Math.max(c,18)}function pe(e,o,r,c="ltr"){const t=M(r),n=t/2,s=o||n,i=t-s,a=r.scrollbar.paddingStart+s,h=r.scrollbar.size-r.scrollbar.paddingEnd-i,u=r.content-r.viewport,b=c==="ltr"?[0,u]:[u*-1,0];return oe([a,h],b)(e)}function B(e,o,r="ltr"){const c=M(o),t=o.scrollbar.paddingStart+o.scrollbar.paddingEnd,n=o.scrollbar.size-t,s=o.content-o.viewport,i=n-c,a=r==="ltr"?[0,s]:[s*-1,0],h=se(e,a);return oe([0,s],[0,i])(h)}function oe(e,o){return r=>{if(e[0]===e[1]||o[0]===o[1])return o[0];const c=(o[1]-o[0])/(e[1]-e[0]);return o[0]+c*(r-e[0])}}function te(e,o){return e>0&&e<o}var we=(e,o=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},c=0;return(function t(){const n={left:e.scrollLeft,top:e.scrollTop},s=r.left!==n.left,i=r.top!==n.top;(s||i)&&o(),r=n,c=window.requestAnimationFrame(t)})(),()=>window.cancelAnimationFrame(c)};function I(e,o){const r=x(e),c=l.useRef(0);return l.useEffect(()=>()=>window.clearTimeout(c.current),[]),l.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(r,o)},[r,o])}function E(e,o){const r=x(o);le(()=>{let c=0;if(e){const t=new ResizeObserver(()=>{cancelAnimationFrame(c),c=window.requestAnimationFrame(r)});return t.observe(e),()=>{window.cancelAnimationFrame(c),t.unobserve(e)}}},[e,r])}var Re=q,Ee=G,Te=J,Ae=ee;function ye(e){const o=l.useRef({value:e,previous:e});return l.useMemo(()=>(o.current.value!==e&&(o.current.previous=o.current.value,o.current.value=e),o.current.previous),[e])}export{Re as R,Te as S,Ae as T,Ee as V,se as c,ye as u};
