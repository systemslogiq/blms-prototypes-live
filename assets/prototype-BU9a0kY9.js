import{r,j as e}from"./index-CpOI95OD.js";import{c as k,X as w}from"./x-NpkpLNx4.js";import{H as C,S,a as A}from"./square-chart-gantt-CpHt9Uox.js";import{B as T}from"./book-open-DTR5zq_J.js";import{C as D,S as B}from"./shield-BXwRHcdv.js";import{D as M}from"./database-BhW8z6Xi.js";import{F as L}from"./file-text-CL0CikiC.js";import{M as P}from"./menu-CuuNdOie.js";const Z=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],_=k("chevron-left",Z);const O=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],E=k("chevron-right",O),N=[{id:"SB-1024",site:"Aarberg",area:"Diffusion",equipment:{kapNumber:"KAP-11023",label:"Diffuser 1"},type:"Instruction",status:"Open",priority:"High",title:"Diffuser: Monitor pressure spikes during startup",description:"During the next 8 hours, closely monitor diffuser inlet pressure. If > 3.2 bar for more than 5 minutes, notify supervisor and log as separate entry.",createdAt:"2025-11-10T05:10:00Z",updatedAt:"2025-11-10T05:35:00Z",dueAt:"2025-11-10T13:00:00Z",createdBy:{id:1,name:"Anna Keller"},assignedTo:{id:2,name:"Shift B (Day)"},confidential:!1,attachmentsCount:3,commentsCount:4,hasChecklist:!0,tags:["Startup","Pressure","Diffusion"],checklist:[{id:"chk-1",text:"Confirm all analogue pressure gauges are readable",isDone:!0,doneAt:"2025-11-10T05:25:00Z",doneBy:"Shift B Operator"},{id:"chk-2",text:"Verify alarm thresholds in PCS7 for diffuser inlet",isDone:!1},{id:"chk-3",text:"Document any excursions > 3.2 bar",isDone:!1}],comments:[{id:"c-1",author:"Shift A Supervisor",createdAt:"2025-11-10T05:20:00Z",body:"Alarm thresholds were raised by process engineer yesterday, please keep an eye on nuisance alarms."},{id:"c-2",author:"Shift B Operator",createdAt:"2025-11-10T06:45:00Z",body:"Acknowledged, currently stable at 2.7â€“2.9 bar."}],history:[{id:"h-1",at:"2025-11-10T05:10:00Z",actor:"Anna Keller",action:"Created entry"},{id:"h-2",at:"2025-11-10T05:30:00Z",actor:"Anna Keller",action:"Updated description and checklist"}]},{id:"SB-1025",site:"Aarberg",area:"Lime Kiln",equipment:{kapNumber:"KAP-22011",label:"Lime kiln burner"},type:"Record",status:"In progress",priority:"Medium",title:"Burner flame instability during low load",description:"Flame scanner intermittently loses signal during low-load operation. Record occurrences and correlate with fuel pressure.",createdAt:"2025-11-09T21:00:00Z",updatedAt:"2025-11-10T04:50:00Z",dueAt:"2025-11-11T05:00:00Z",createdBy:{id:3,name:"Marc Steiner"},assignedTo:{id:4,name:"Night Shift (Kiln)"},confidential:!1,attachmentsCount:1,commentsCount:2,hasChecklist:!1,tags:["Kiln","Instrumentation"],checklist:[],comments:[{id:"c-3",author:"Night Shift (Kiln)",createdAt:"2025-11-09T23:15:00Z",body:"Logged 3 brief losses around 22:55â€“23:05. Fuel pressure slightly below nominal."}],history:[{id:"h-3",at:"2025-11-09T21:00:00Z",actor:"Marc Steiner",action:"Created entry"}]},{id:"SB-1026",site:"Frauenfeld",area:"Evaporation",equipment:{kapNumber:"KAP-33002",label:"Evaporator 3"},type:"Suggestion",status:"Completed",priority:"Low",title:"Standardise cleaning checklist for evaporator shutdown",description:"Suggestion to standardise sequence for evaporator cleaning and document as a reusable checklist template.",createdAt:"2025-11-08T07:00:00Z",updatedAt:"2025-11-09T09:30:00Z",dueAt:"2025-11-09T10:00:00Z",createdBy:{id:5,name:"Julia Meier"},assignedTo:{id:6,name:"Process Engineer On-Call"},confidential:!1,attachmentsCount:2,commentsCount:1,hasChecklist:!0,tags:["Checklist","Standardisation"],checklist:[{id:"chk-4",text:"Drain product and isolate steam",isDone:!0},{id:"chk-5",text:"Flush with warm condensate",isDone:!0},{id:"chk-6",text:"Record final cleanliness inspection",isDone:!0}],comments:[{id:"c-4",author:"Process Engineer On-Call",createdAt:"2025-11-09T09:30:00Z",body:"Template created and will be rolled out to all evaporators next campaign."}],history:[{id:"h-4",at:"2025-11-08T07:00:00Z",actor:"Julia Meier",action:"Created entry"},{id:"h-5",at:"2025-11-09T09:30:00Z",actor:"Process Engineer On-Call",action:"Marked as completed"}]}],q={Open:"bg-emerald-500/15 text-emerald-300 ring-1 ring-emerald-500/40","In progress":"bg-amber-500/15 text-amber-300 ring-1 ring-amber-500/40",Completed:"bg-sky-500/15 text-sky-300 ring-1 ring-sky-500/40",Cancelled:"bg-rose-500/10 text-rose-300 ring-1 ring-rose-500/40"},I={High:"bg-rose-500/15 text-rose-200 ring-1 ring-rose-500/40",Medium:"bg-amber-500/15 text-amber-200 ring-1 ring-amber-500/40",Low:"bg-slate-500/20 text-slate-200 ring-1 ring-slate-500/40"},R={Instruction:"bg-sky-500/10 text-sky-200",Record:"bg-indigo-500/10 text-indigo-200",Suggestion:"bg-emerald-500/10 text-emerald-200"},$=[{id:"details",label:"Details"},{id:"attachments",label:"Attachments"},{id:"checklist",label:"Checklist"},{id:"comments",label:"Comments"},{id:"history",label:"History"}];function h(t){return new Date(t).toLocaleString(void 0,{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"})}function y(t){return new Date(t).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"})}function b({status:t}){return e.jsxs("span",{className:`inline-flex items-center gap-1 rounded-full px-2.5 py-0.5 text-xs font-medium ${q[t]||""}`,children:[e.jsx("span",{className:"inline-block h-1.5 w-1.5 rounded-full bg-current/80"}),t]})}function g({priority:t}){return e.jsxs("span",{className:`inline-flex items-center rounded-full px-2 py-0.5 text-xs font-medium ${I[t]||""}`,children:[t," priority"]})}function j({type:t}){return e.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-0.5 text-[11px] font-medium uppercase tracking-wide ${R[t]||"bg-slate-700/50 text-slate-200"}`,children:t})}function F({entry:t,onClose:o}){const[l,u]=r.useState("details"),[m,c]=r.useState(t.description||""),[d,x]=r.useState(!1);function i(){d&&!window.confirm("You have unsaved changes. Do you really want to discard them?")||o()}function n(){x(!1)}return e.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-slate-950/80 backdrop-blur-sm",children:e.jsxs("div",{className:"relative flex w-full max-w-3xl max-h-[90vh] flex-col overflow-hidden rounded-2xl border border-slate-800 bg-slate-950 shadow-[0_24px_70px_rgba(0,0,0,0.95)]",children:[e.jsxs("div",{className:"flex items-start justify-between gap-3 border-b border-slate-800 px-5 py-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx(b,{status:t.status}),e.jsx(g,{priority:t.priority}),e.jsx(j,{type:t.type})]}),e.jsx("h2",{className:"text-lg font-semibold leading-snug text-slate-50",children:t.title}),e.jsxs("p",{className:"text-xs text-slate-400",children:[t.site," Â· ",t.area," Â· ",t.equipment?.kapNumber," Â·"," ",t.equipment?.label]}),e.jsxs("p",{className:"text-[11px] text-slate-500",children:["#",t.id," Â· Created ",h(t.createdAt)," by"," ",t.createdBy?.name]})]}),e.jsx("button",{type:"button",onClick:i,className:"ml-2 inline-flex h-8 w-8 items-center justify-center rounded-full bg-slate-900 text-slate-300 hover:bg-slate-800 hover:text-slate-50",children:"âœ•"})]}),e.jsx("div",{className:"flex border-b border-slate-800 px-5",children:e.jsx("nav",{className:"-mb-px flex flex-1 gap-1 overflow-x-auto py-1 text-sm",children:$.map(a=>e.jsx("button",{type:"button",onClick:()=>u(a.id),className:`first:ml-1 last:mr-1 whitespace-nowrap rounded-t-xl px-3 py-2 text-xs font-medium transition ${l===a.id?"bg-slate-900 text-sky-100 ring-1 ring-sky-500/70 ring-b-0":"text-slate-400 hover:text-slate-100"}`,children:a.label},a.id))})}),e.jsxs("div",{className:"flex-1 space-y-4 overflow-y-auto px-5 py-4 text-sm",children:[l==="details"&&e.jsxs("section",{className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs font-medium text-slate-400",children:"Assigned to"}),e.jsx("div",{className:"rounded-xl border border-slate-800 bg-slate-950 px-3 py-2 text-sm text-slate-100",children:t.assignedTo?.name||"Unassigned"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs font-medium text-slate-400",children:"Due"}),e.jsx("div",{className:"rounded-xl border border-slate-800 bg-slate-950 px-3 py-2 text-sm text-slate-100",children:t.dueAt?h(t.dueAt):"â€”"})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs font-medium text-slate-400",children:"Description / actions"}),e.jsx("textarea",{rows:5,className:"w-full rounded-xl border border-slate-800 bg-slate-950 px-3 py-2 text-sm text-slate-100 placeholder:text-slate-500 focus:border-sky-500 focus:outline-none focus:ring-1 focus:ring-sky-500/70",value:m,onChange:a=>{c(a.target.value),x(!0)},placeholder:"Describe what should be done, observed, or recorded during the shiftâ€¦"})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs font-medium text-slate-400",children:"Created by"}),e.jsx("div",{className:"rounded-xl border border-slate-800 bg-slate-950 px-3 py-2 text-sm text-slate-100",children:t.createdBy?.name})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs font-medium text-slate-400",children:"Shared/kiosk actor"}),e.jsx("div",{className:"rounded-xl border border-slate-800 bg-slate-950 px-3 py-2 text-sm text-slate-500",children:"(Prototype only â€” kiosk actor would appear here)"})]})]})]}),l==="attachments"&&e.jsxs("section",{className:"space-y-3",children:[e.jsxs("div",{className:"rounded-xl border border-dashed border-slate-700 bg-slate-950 px-4 py-6 text-center text-sm text-slate-400",children:[e.jsx("p",{className:"mb-2 text-slate-200",children:"Attachments (prototype)"}),e.jsx("p",{children:"Drag & drop files here or tap to select. In the real implementation, this connects to S3-compatible object storage, AV scan, and text extraction for search."})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 text-xs text-slate-400",children:[e.jsxs("span",{className:"rounded-full bg-slate-900 px-2 py-0.5",children:["ðŸ“Ž ",t.attachmentsCount||0," attachment(s) in sample data"]}),e.jsx("span",{className:"rounded-full bg-slate-900 px-2 py-0.5",children:"Text search index: attachment text + entry text"})]})]}),l==="checklist"&&e.jsx("section",{className:"space-y-3",children:t.checklist&&t.checklist.length>0?e.jsx("ol",{className:"space-y-2",children:t.checklist.map(a=>e.jsxs("li",{className:"flex items-start gap-2 rounded-xl border border-slate-800 bg-slate-950 px-3 py-2",children:[e.jsx("span",{className:"mt-1",children:a.isDone?"âœ…":"â¬œï¸"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:`text-sm ${a.isDone?"text-slate-400 line-through":"text-slate-100"}`,children:a.text}),a.doneAt&&e.jsxs("p",{className:"mt-1 text-[11px] text-slate-500",children:["Done ",h(a.doneAt)," by"," ",a.doneBy||a.doneByUser||"n/a"]})]})]},a.id))}):e.jsx("p",{className:"text-sm text-slate-400",children:"No checklist items defined for this entry. In the full system, checklists can be templated per area and attached to entry types."})}),l==="comments"&&e.jsxs("section",{className:"space-y-3",children:[e.jsxs("div",{className:"rounded-xl border border-slate-800 bg-slate-950 p-3",children:[e.jsx("textarea",{rows:3,className:"w-full rounded-lg border border-slate-800 bg-slate-950 px-3 py-2 text-sm text-slate-100 placeholder:text-slate-500 focus:border-sky-500 focus:outline-none focus:ring-1 focus:ring-sky-500/70",placeholder:"Add a comment, @mention a colleagueâ€¦ (prototype only)"}),e.jsxs("div",{className:"mt-2 flex items-center justify-between text-xs text-slate-500",children:[e.jsx("span",{children:"Attachments, mentions and notifications are supported in the SRS."}),e.jsx("button",{type:"button",className:"rounded-full bg-sky-600 px-3 py-1 text-xs font-medium text-slate-50 hover:bg-sky-500",children:"Comment"})]})]}),e.jsx("div",{className:"space-y-2",children:t.comments&&t.comments.length>0?t.comments.map(a=>e.jsxs("article",{className:"rounded-xl border border-slate-800 bg-slate-950 px-3 py-2",children:[e.jsxs("div",{className:"flex items-baseline justify-between gap-2",children:[e.jsx("h3",{className:"text-sm font-medium text-slate-100",children:a.author}),e.jsx("time",{className:"text-[11px] text-slate-500",children:h(a.createdAt)})]}),e.jsx("p",{className:"mt-1 text-sm text-slate-200",children:a.body})]},a.id)):e.jsx("p",{className:"text-sm text-slate-400",children:"No comments yet. Use this space for shift-to-shift handover notes, clarifications, and decisions."})})]}),l==="history"&&e.jsxs("section",{className:"space-y-3",children:[e.jsxs("p",{className:"text-xs text-slate-400",children:["Every change to status, assignee, key fields and sign-offs is recorded in the audit log. This tab shows a user-friendly view; a deeper trail is also stored in"," ",e.jsx("span",{className:"font-mono text-[11px] text-slate-300",children:"platform.audit_log"}),"."]}),e.jsx("ol",{className:"relative border-l border-slate-800 pl-4 text-sm",children:t.history&&t.history.length>0?t.history.map(a=>e.jsxs("li",{className:"mb-3 ml-1",children:[e.jsx("div",{className:"absolute -left-[9px] mt-0.5 h-2 w-2 rounded-full bg-sky-400"}),e.jsx("p",{className:"text-xs text-slate-400",children:h(a.at)}),e.jsxs("p",{className:"text-sm text-slate-100",children:[e.jsx("span",{className:"font-medium",children:a.actor})," â€”"," ",a.action]})]},a.id)):e.jsx("li",{className:"ml-1 text-sm text-slate-400",children:"No history items in sample data."})})]})]}),e.jsxs("div",{className:"flex items-center justify-between gap-3 border-t border-slate-800 bg-slate-900/80 px-5 py-3 text-xs",children:[e.jsx("div",{className:"flex items-center gap-2 text-slate-400",children:d?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"inline-block h-1.5 w-1.5 rounded-full bg-amber-400"}),e.jsx("span",{children:"Unsaved changes in this dialog."})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"inline-block h-1.5 w-1.5 rounded-full bg-emerald-400"}),e.jsx("span",{children:"All changes saved (prototype state only)."})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{type:"button",onClick:i,className:"rounded-full border border-slate-700 bg-slate-900 px-4 py-1.5 text-xs font-medium text-slate-100 hover:bg-slate-800",children:"Cancel"}),e.jsx("button",{type:"button",onClick:n,className:"rounded-full bg-sky-600 px-4 py-1.5 text-xs font-medium text-slate-50 hover:bg-sky-500",children:"Save changes"})]})]})]})})}function v(){const[t,o]=r.useState(""),[l,u]=r.useState("all"),[m,c]=r.useState("comfortable"),[d,x]=r.useState(null),i=["all","Open","In progress","Completed","Cancelled"],n=r.useMemo(()=>N.filter(s=>l!=="all"&&s.status!==l?!1:t.trim()?[s.id,s.title,s.description,s.area,s.site,s.equipment?.kapNumber,s.equipment?.label,s.createdBy?.name,s.assignedTo?.name,...s.tags||[]].filter(Boolean).join(" ").toLowerCase().includes(t.toLowerCase()):!0),[t,l]),a=m==="compact"?"py-2":"py-3";return e.jsxs("div",{className:"flex flex-col flex-1",children:[e.jsx("div",{className:"border-b border-slate-800 bg-gradient-to-r from-slate-950 via-slate-900 to-slate-950",children:e.jsxs("header",{className:"mx-auto flex max-w-6xl items-center justify-between gap-4 px-4 py-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-medium uppercase tracking-[0.25em] text-sky-400/70",children:"BLMS Prototype"}),e.jsx("h1",{className:"mt-1 text-2xl font-semibold text-slate-50",children:"Shift Book"}),e.jsx("p",{className:"mt-1 text-sm text-slate-400",children:"Fast, focused handover log for operators and supervisors."})]}),e.jsxs("div",{className:"hidden min-w-[220px] flex-col items-end text-right sm:flex",children:[e.jsx("span",{className:"text-sm font-medium text-slate-100"}),e.jsxs("span",{className:"mt-1 inline-flex items-center gap-1 rounded-full bg-slate-900/80 px-2 py-0.5 text-[10px] font-medium text-slate-300 ring-1 ring-slate-700/80",children:[e.jsx("span",{className:"inline-block h-1.5 w-1.5 rounded-full bg-emerald-400"}),"Online"]})]})]})}),e.jsxs("main",{className:"mx-auto flex max-w-6xl flex-col gap-4 px-4 py-5",children:[e.jsxs("section",{className:"flex flex-col gap-3 rounded-2xl border border-slate-800 bg-slate-950/70 p-4 shadow-[0_18px_45px_rgba(0,0,0,0.8)] backdrop-blur",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsxs("div",{className:"relative flex-1 min-w-[180px]",children:[e.jsx("input",{type:"text",placeholder:"Search title, area, equipment, KAP, personâ€¦",value:t,onChange:s=>o(s.target.value),className:"h-9 w-full rounded-xl border border-slate-700/80 bg-slate-900/80 px-8 text-sm text-slate-100 placeholder:text-slate-500 focus:border-sky-500 focus:outline-none focus:ring-1 focus:ring-sky-500/70"}),e.jsx("span",{className:"pointer-events-none absolute inset-y-0 left-2 flex items-center text-slate-500",children:"ðŸ”"})]}),e.jsx("div",{className:"flex flex-wrap items-center gap-2",children:i.map(s=>e.jsx("button",{type:"button",onClick:()=>u(s),className:`rounded-full px-3 py-1 text-xs font-medium transition ${l===s?"bg-sky-500/20 text-sky-100 ring-1 ring-sky-500":"bg-slate-900/60 text-slate-300 ring-1 ring-slate-700 hover:bg-slate-800/80"}`,children:s==="all"?"All statuses":s},s))}),e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsx("span",{className:"hidden text-xs text-slate-400 sm:inline",children:"Density"}),e.jsxs("div",{className:"inline-flex rounded-full bg-slate-900/80 p-0.5 ring-1 ring-slate-700",children:[e.jsx("button",{type:"button",onClick:()=>c("comfortable"),className:`rounded-full px-2.5 py-1 text-[11px] ${m==="comfortable"?"bg-slate-700 text-slate-50":"text-slate-300"}`,children:"Comfortable"}),e.jsx("button",{type:"button",onClick:()=>c("compact"),className:`rounded-full px-2.5 py-1 text-[11px] ${m==="compact"?"bg-slate-700 text-slate-50":"text-slate-300"}`,children:"Compact"})]})]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs text-slate-400",children:[e.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-slate-900/80 px-2 py-0.5",children:[e.jsx("span",{className:"inline-block h-1.5 w-1.5 rounded-full bg-emerald-400"}),"Live filter (client side only in prototype)"]}),e.jsxs("span",{className:"hidden sm:inline",children:[n.length," of ",N.length," entries shown"]}),e.jsxs("span",{className:"sm:hidden",children:[n.length," entries"]})]})]}),e.jsxs("section",{className:"rounded-2xl border border-slate-800 bg-slate-950/80 shadow-[0_18px_45px_rgba(0,0,0,0.9)] backdrop-blur",children:[e.jsx("div",{className:"hidden md:block",children:e.jsxs("table",{className:"min-w-full table-fixed text-sm",children:[e.jsx("thead",{className:"border-b border-slate-800 bg-slate-950/80 text-xs uppercase tracking-wide text-slate-400",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left w-[9rem]",children:"Status / Priority"}),e.jsx("th",{className:"px-2 py-3 text-left w-[30%]",children:"Title"}),e.jsx("th",{className:"px-2 py-3 text-left w-[14rem]",children:"Area / Equipment"}),e.jsx("th",{className:"px-2 py-3 text-left w-[9rem]",children:"Assigned to"}),e.jsx("th",{className:"px-2 py-3 text-left w-[7rem]",children:"Created"}),e.jsx("th",{className:"px-2 py-3 text-left w-[6rem]",children:"Due"}),e.jsx("th",{className:"px-4 py-3 text-right w-[6rem]",children:"Meta"})]})}),e.jsxs("tbody",{className:"divide-y divide-slate-800/80",children:[n.map(s=>e.jsxs("tr",{className:`cursor-pointer hover:bg-slate-900/70 transition ${a}`,onClick:()=>x(s),children:[e.jsx("td",{className:"px-4 align-top",children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx(b,{status:s.status}),e.jsx(g,{priority:s.priority})]})}),e.jsx("td",{className:"px-2 align-top",children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"truncate text-[13px] font-medium text-slate-50",children:s.title}),e.jsx(j,{type:s.type})]}),e.jsx("p",{className:"line-clamp-2 text-xs text-slate-400",children:s.description}),s.tags?.length?e.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:s.tags.map(f=>e.jsxs("span",{className:"rounded-full bg-slate-900/80 px-2 py-0.5 text-[10px] text-slate-300 ring-1 ring-slate-800",children:["#",f]},f))}):null]})}),e.jsx("td",{className:"px-2 align-top",children:e.jsxs("div",{className:"flex flex-col gap-0.5 text-xs",children:[e.jsxs("span",{className:"font-medium text-slate-200",children:[s.site," Â· ",s.area]}),e.jsxs("span",{className:"text-slate-400",children:[s.equipment?.kapNumber," Â·"," ",s.equipment?.label]})]})}),e.jsxs("td",{className:"px-2 align-top",children:[e.jsx("div",{className:"text-xs text-slate-200",children:s.assignedTo?.name||"â€”"}),e.jsxs("div",{className:"text-[11px] text-slate-500",children:["Created by ",s.createdBy?.name]})]}),e.jsx("td",{className:"px-2 align-top text-xs text-slate-300",children:h(s.createdAt)}),e.jsx("td",{className:"px-2 align-top text-xs text-slate-300",children:s.dueAt?y(s.dueAt):"â€”"}),e.jsx("td",{className:"px-4 align-top text-right text-xs text-slate-400",children:e.jsxs("div",{className:"flex flex-col items-end gap-1",children:[e.jsxs("span",{children:["ðŸ“Ž ",s.attachmentsCount||0," Â· ðŸ’¬"," ",s.commentsCount||s.comments?.length||0]}),s.confidential&&e.jsx("span",{className:"rounded-full bg-rose-500/10 px-2 py-0.5 text-[10px] text-rose-200 ring-1 ring-rose-500/40",children:"Confidential"})]})})]},s.id)),n.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"px-4 py-8 text-center text-sm text-slate-500",children:"No entries match your current filters."})})]})]})}),e.jsxs("div",{className:"divide-y divide-slate-800 md:hidden",children:[n.map(s=>e.jsxs("button",{type:"button",onClick:()=>x(s),className:"flex w-full flex-col items-stretch gap-2 px-4 py-3 text-left hover:bg-slate-900/80",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(b,{status:s.status}),e.jsx(g,{priority:s.priority})]}),e.jsx("span",{className:"text-[11px] text-slate-400",children:y(s.createdAt)})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"line-clamp-2 text-[13px] font-medium text-slate-50",children:s.title}),e.jsx(j,{type:s.type})]}),e.jsx("p",{className:"line-clamp-2 text-xs text-slate-400",children:s.description}),e.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-2 text-[11px] text-slate-300",children:[e.jsxs("span",{children:[s.site," Â· ",s.area]}),e.jsx("span",{className:"text-slate-500",children:"â€¢"}),e.jsxs("span",{children:[s.equipment?.kapNumber," Â· ",s.equipment?.label]})]}),e.jsxs("div",{className:"mt-1 flex items-center justify-between text-[11px] text-slate-400",children:[e.jsx("span",{children:s.assignedTo?.name||"Unassigned"}),e.jsxs("span",{children:["ðŸ“Ž ",s.attachmentsCount||0," Â· ðŸ’¬"," ",s.commentsCount||s.comments?.length||0]})]})]})]},s.id)),n.length===0&&e.jsx("div",{className:"px-4 py-6 text-center text-sm text-slate-500",children:"No entries match your current filters."})]})]})]}),d&&e.jsx(F,{entry:d,onClose:()=>x(null)})]})}function p({name:t}){return e.jsx("div",{className:"flex flex-1 items-center justify-center",children:e.jsxs("div",{className:"max-w-md rounded-2xl border border-slate-800 bg-slate-950/90 px-6 py-5 text-center shadow-[0_18px_45px_rgba(0,0,0,0.8)]",children:[e.jsx("p",{className:"text-xs font-medium uppercase tracking-[0.25em] text-slate-500",children:"Module stub"}),e.jsx("h1",{className:"mt-2 text-xl font-semibold text-slate-50",children:t}),e.jsx("p",{className:"mt-2 text-sm text-slate-400",children:"This module is not part of the interactive prototype yet. The navigation shows how it will live next to the Shift Book within BLMS."})]})})}function K(){const[t,o]=r.useState("shiftbook"),[l,u]=r.useState(!1),[m,c]=r.useState(!1),d=[{id:"dashboard",label:"Dashboard",icon:C},{id:"shiftbook",label:"Shift Book",icon:T},{id:"manual",label:"Manual Capture",icon:D},{id:"campaigns",label:"Campaigns",icon:S},{id:"plant",label:"Plant Master",icon:M},{id:"reporting",label:"Reporting",icon:L},{id:"alarms",label:"Alarms & Events",icon:A},{id:"admin",label:"Admin",icon:B}],x=()=>{switch(t){case"dashboard":return e.jsx(p,{name:"Dashboard"});case"shiftbook":return e.jsx(v,{});case"manual":return e.jsx(p,{name:"Manual Capture"});case"campaigns":return e.jsx(p,{name:"Campaigns"});case"reporting":return e.jsx(p,{name:"Reporting"});case"plant":return e.jsx(p,{name:"Plant Master"});case"alarms":return e.jsx(p,{name:"Alarms & Events"});case"admin":return e.jsx(p,{name:"Admin"});default:return e.jsx(v,{})}};return e.jsxs("div",{className:"min-h-screen bg-slate-950 text-slate-100 flex relative",children:[e.jsxs("aside",{className:`hidden sm:flex flex-col border-r border-slate-800 bg-slate-950/95 transition-all duration-200 ${l?"w-16":"w-60"}`,children:[e.jsxs("div",{className:"px-4 pt-4 pb-3 border-b border-slate-800 flex items-center justify-between gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-xl bg-sky-600 text-xs font-semibold text-slate-50",children:"B"}),!l&&e.jsxs("div",{children:[e.jsx("p",{className:"text-[11px] font-semibold tracking-[0.18em] uppercase text-slate-400",children:"BLMS"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Schweizer Zucker AG"})]})]}),e.jsx("button",{type:"button",onClick:()=>u(i=>!i),className:"rounded-full p-1 text-slate-400 hover:bg-slate-900 hover:text-slate-50","aria-label":l?"Expand navigation":"Collapse navigation",children:l?e.jsx(E,{className:"h-4 w-4"}):e.jsx(_,{className:"h-4 w-4"})})]}),!l&&e.jsx("div",{className:"px-4 pt-3 pb-2 border-b border-slate-800",children:e.jsxs("p",{className:"inline-flex items-center gap-1 rounded-full bg-emerald-500/10 px-2 py-0.5 text-[11px] font-medium text-emerald-200 ring-1 ring-emerald-500/40",children:[e.jsx("span",{className:"inline-block h-1.5 w-1.5 rounded-full bg-emerald-400"}),"Prototype Â· Phase 1"]})}),e.jsx("nav",{className:"flex-1 space-y-1 px-2 py-3",children:d.map(i=>{const n=t===i.id,a=i.icon;return e.jsxs("button",{type:"button",onClick:()=>o(i.id),className:`flex items-center rounded-xl transition ${l?"w-full justify-center p-2":"w-full px-3 py-2 text-sm text-left"} ${n?"bg-slate-800 text-slate-50 ring-1 ring-sky-500/70":"text-slate-300 hover:bg-slate-900"}`,children:[a&&e.jsx(a,{className:`h-4 w-4 shrink-0 ${l?"":"mr-3"}`}),!l&&e.jsx("span",{className:"flex-1 truncate",children:i.label}),n&&!l&&e.jsx("span",{className:"text-[10px] uppercase tracking-wide text-sky-400",children:"Active"})]},i.id)})}),e.jsx("div",{className:"border-t border-slate-800 px-3 py-3",children:e.jsxs("button",{type:"button",className:`flex items-center rounded-xl hover:bg-slate-900 ${l?"justify-center p-2":"w-full gap-3 px-2 py-2 text-left"}`,children:[e.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-full bg-slate-800 text-sm font-medium text-slate-100",children:"JC"}),!l&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs font-medium text-slate-100",children:"Shift Supervisor"}),e.jsx("p",{className:"text-[11px] text-slate-500",children:"Profile & settings"})]}),e.jsx("span",{className:"text-slate-500 text-xs",children:"â‹¯"})]})]})})]}),e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-slate-800 bg-slate-950 px-3 py-2 sm:hidden",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-semibold tracking-[0.18em] uppercase text-slate-400",children:"BLMS"}),e.jsx("p",{className:"text-xs text-slate-300",children:d.find(i=>i.id===t)?.label??"Shift Book"})]}),e.jsxs("button",{type:"button",onClick:()=>c(!0),className:"inline-flex items-center rounded-full border border-slate-700 bg-slate-900 px-2 py-1 text-xs text-slate-100",children:[e.jsx(P,{className:"mr-1 h-4 w-4"}),"Menu"]})]}),m&&e.jsxs("div",{className:"fixed inset-0 z-40 flex sm:hidden",children:[e.jsxs("div",{className:"flex w-64 flex-col border-r border-slate-800 bg-slate-950/95",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-slate-800 px-4 py-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-xl bg-sky-600 text-xs font-semibold text-slate-50",children:"B"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[11px] font-semibold tracking-[0.18em] uppercase text-slate-400",children:"BLMS"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Schweizer Zucker AG"})]})]}),e.jsx("button",{type:"button",onClick:()=>c(!1),className:"rounded-full p-1 text-slate-400 hover:bg-slate-900 hover:text-slate-50","aria-label":"Close navigation",children:e.jsx(w,{className:"h-4 w-4"})})]}),e.jsx("nav",{className:"flex-1 space-y-1 px-2 py-3",children:d.map(i=>{const n=t===i.id,a=i.icon;return e.jsxs("button",{type:"button",onClick:()=>{o(i.id),c(!1)},className:`flex w-full items-center rounded-xl px-3 py-2 text-sm text-left transition ${n?"bg-slate-800 text-slate-50 ring-1 ring-sky-500/70":"text-slate-300 hover:bg-slate-900"}`,children:[a&&e.jsx(a,{className:"mr-3 h-4 w-4 shrink-0"}),e.jsx("span",{className:"flex-1 truncate",children:i.label})]},i.id)})})]}),e.jsx("button",{type:"button",className:"flex-1 bg-black/60",onClick:()=>c(!1),"aria-label":"Close navigation overlay"})]}),x()]})]})}function Q(){return e.jsx(K,{})}export{Q as default};
