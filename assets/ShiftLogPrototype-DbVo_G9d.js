import{r as d,j as e}from"./index-BS9RFZo7.js";const $=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),L=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(s,r,a)=>a?a.toUpperCase():r.toLowerCase()),w=t=>{const s=L(t);return s.charAt(0).toUpperCase()+s.slice(1)},M=(...t)=>t.filter((s,r,a)=>!!s&&s.trim()!==""&&a.indexOf(s)===r).join(" ").trim(),F=t=>{for(const s in t)if(s.startsWith("aria-")||s==="role"||s==="title")return!0};var P={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const B=d.forwardRef(({color:t="currentColor",size:s=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:c="",children:i,iconNode:x,...h},l)=>d.createElement("svg",{ref:l,...P,width:s,height:s,stroke:t,strokeWidth:a?Number(r)*24/Number(s):r,className:M("lucide",c),...!i&&!F(h)&&{"aria-hidden":"true"},...h},[...x.map(([o,m])=>d.createElement(o,m)),...Array.isArray(i)?i:[i]]));const n=(t,s)=>{const r=d.forwardRef(({className:a,...c},i)=>d.createElement(B,{ref:i,iconNode:s,className:M(`lucide-${$(w(t))}`,`lucide-${t}`,a),...c}));return r.displayName=w(t),r};const E=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],v=n("arrow-down",E);const q=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],z=n("arrow-right",q);const V=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],Z=n("arrow-up",V);const H=[["path",{d:"M4.5 3h15",key:"c7n0jr"}],["path",{d:"M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3",key:"m1uhx7"}],["path",{d:"M6 14h12",key:"4cwo0f"}]],O=n("beaker",H);const R=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],U=n("bell",R);const K=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],W=n("book-open",K);const Q=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Y=n("calendar",Q);const G=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],X=n("chart-no-axes-column",G);const J=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],j=n("chevron-down",J);const ee=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],te=n("clock",ee);const se=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],k=n("database",se);const ae=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],re=n("ellipsis-vertical",ae);const ne=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}]],_=n("file",ne);const le=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],ie=n("funnel",le);const ce=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],oe=n("history",ce);const de=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],me=n("map-pin",de);const xe=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],he=n("menu",xe);const ue=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],pe=n("message-square",ue);const ye=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],A=n("paperclip",ye);const ge=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],be=n("pen",ge);const fe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],je=n("plus",fe);const Ne=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],we=n("printer",Ne);const ve=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ke=n("search",ve);const Ce=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Me=n("send",Ce);const _e=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],I=n("settings",_e);const Ae=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],C=n("shield-check",Ae);const Ie=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Se=n("square-check-big",Ie);const Te=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],De=n("tag",Te);const $e=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],S=n("trash-2",$e);const Le=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],g=n("user",Le);const Fe=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Pe=n("x",Fe),b={"user-1":{name:"Sarah Müller",avatar:"https://placehold.co/100x100/6366F1/FFFFFF?text=SM"},"user-2":{name:"David Franke",avatar:"https://placehold.co/100x100/10B981/FFFFFF?text=DF"},"user-3":{name:"Supervisor Demo",avatar:"https://placehold.co/100x100/8B5CF6/FFFFFF?text=SD"},"team-1":{name:"Maintenance Team"},"team-2":{name:"Lab Team"}},N={"area-1":{name:"Filtration"},"area-2":{name:"Packing Line 1"},"area-3":{name:"Utilities"},"area-4":{name:"Raw Material Intake"}},Be=[{id:"sb-12345",title:"Pump P-101B shows high vibration and unusual noise",status:"open",priority:"high",type:"record",areaId:"area-1",equipment:"P-101B (KAP 11234)",createdById:"user-1",assignedToId:"team-1",createdAt:"2025-11-14T09:15:00Z",dueAt:"2025-11-14T17:00:00Z",description:"During the morning rounds, Pump P-101B in the filtration area was found to be vibrating excessively. A high-pitched whining noise was also noted. The pump is critical for the next batch. Maintenance team, please investigate immediately.",attachments:[{id:"att-1",filename:"P-101B-vibration-video.mp4",size:"12.4 MB",type:"video"},{id:"att-2",filename:"thermal-image-P-101B.jpg",size:"1.2 MB",type:"image"}],checklist:[{id:"cl-1",text:"Inspect pump housing for cracks",isDone:!1},{id:"cl-2",text:"Check bearing temperature",isDone:!1},{id:"cl-3",text:"Verify alignment",isDone:!1}],comments:[{id:"com-1",authorId:"user-3",timestamp:"2025-11-14T09:20:00Z",body:"@Maintenance Team, confirming this is top priority. We need this pump for the 3pm batch transfer."}],history:[{id:"hist-1",userId:"user-1",timestamp:"2025-11-14T09:15:00Z",action:"Created entry and assigned to Maintenance Team"}]},{id:"sb-12346",title:"Suggestion: Add safety railing near Tank T-205",status:"open",priority:"normal",type:"suggestion",areaId:"area-3",equipment:"T-205 (KAP 55123)",createdById:"user-2",assignedToId:"user-3",createdAt:"2025-11-14T08:30:00Z",dueAt:null,description:"The walkway next to Tank T-205 (Utilities) feels a bit exposed, especially when operators are taking samples. Suggesting we install a small safety railing along the exposed edge. See attached photo for mockup.",attachments:[{id:"att-3",filename:"T-205-walkway-mockup.png",size:"850 KB",type:"image"}],checklist:[],comments:[],history:[{id:"hist-2",userId:"user-2",timestamp:"2025-11-14T08:30:00Z",action:"Created entry and assigned to Supervisor Demo"}]},{id:"sb-12347",title:"Lab sample L-992 analysis complete",status:"completed",priority:"normal",type:"record",areaId:"area-2",equipment:"Packing Line 1 (KAP 88001)",createdById:"user-2",assignedToId:"team-2",createdAt:"2025-11-13T16:45:00Z",dueAt:null,description:"Analysis for lab sample L-992 (end-of-batch, PL1) is complete. All values within spec. Results attached.",attachments:[{id:"att-4",filename:"L-992_COA_Report.pdf",size:"128 KB",type:"pdf"}],checklist:[],comments:[],history:[{id:"hist-3",userId:"user-2",timestamp:"2025-11-13T16:45:00Z",action:"Created entry"},{id:"hist-4",userId:"user-2",timestamp:"2025-11-13T16:46:00Z",action:"Marked as Completed"}]},{id:"sb-12348",title:"Weekly checklist for Raw Material Intake area",status:"in_progress",priority:"medium",type:"instruction",areaId:"area-4",equipment:"All (KAP 90000)",createdById:"user-3",assignedToId:"user-1",createdAt:"2025-11-14T07:00:00Z",dueAt:"2025-11-14T15:00:00Z",description:"Please complete the standard weekly checks for the raw material intake area. Use the attached checklist.",attachments:[],checklist:[{id:"cl-4",text:"Check silo level indicators",isDone:!0},{id:"cl-5",text:"Inspect grounding straps on all ports",isDone:!0},{id:"cl-6",text:"Clear any debris from unloading bay",isDone:!1},{id:"cl-7",text:"Verify emergency stop button functionality",isDone:!1}],comments:[{id:"com-2",authorId:"user-1",timestamp:"2025-11-14T10:05:00Z",body:"In progress. Silo levels and grounding straps are done."}],history:[{id:"hist-5",userId:"user-3",timestamp:"2025-11-14T07:00:00Z",action:"Created entry and assigned to Sarah Müller"},{id:"hist-6",userId:"user-1",timestamp:"2025-11-14T10:05:00Z",action:"Commented"},{id:"hist-7",userId:"user-1",timestamp:"2025-11-14T10:05:00Z",action:"Marked as In Progress"}]},{id:"sb-12349",title:"Forklift FL-02 battery charge low",status:"cancelled",priority:"low",type:"record",areaId:"area-4",equipment:"FL-02 (KAP 90012)",createdById:"user-1",assignedToId:"team-1",createdAt:"2025-11-13T14:00:00Z",dueAt:null,description:"Forklift FL-02 is showing a low battery warning. Needs to be taken to charging station.",attachments:[],checklist:[],comments:[{id:"com-3",authorId:"user-3",timestamp:"2025-11-13T14:05:00Z",body:"Cancelling this. David already swapped it for FL-03 and put it on the charger. He just forgot to log it."}],history:[{id:"hist-8",userId:"user-1",timestamp:"2025-11-13T14:00:00Z",action:"Created entry"},{id:"hist-9",userId:"user-3",timestamp:"2025-11-13T14:05:00Z",action:"Commented and marked as Cancelled"}]}],Ee={id:"new",title:"",status:"open",priority:"normal",type:"record",areaId:Object.keys(N)[0],equipment:"",createdById:"user-3",assignedToId:"",createdAt:new Date().toISOString(),dueAt:null,description:"",attachments:[],checklist:[],comments:[],history:[]},y=t=>{if(!t)return"N/A";const s=new Date(t),r=new Date,a=new Date(r);a.setDate(a.getDate()-1);const c={hour:"2-digit",minute:"2-digit",hour12:!1},i=s.toLocaleTimeString("de-DE",c);if(s.toDateString()===r.toDateString())return`Today, ${i}`;if(s.toDateString()===a.toDateString())return`Yesterday, ${i}`;const x={day:"2-digit",month:"short",year:"numeric"};return`${s.toLocaleDateString("en-GB",x)}, ${i}`},T=({status:t})=>{const s={open:"bg-blue-100 text-blue-800",in_progress:"bg-yellow-100 text-yellow-800",completed:"bg-green-100 text-green-800",cancelled:"bg-gray-100 text-gray-800"},r={open:"Open",in_progress:"In Progress",completed:"Completed",cancelled:"Cancelled"};return e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${s[t]||s.cancelled}`,children:r[t]||"Unknown"})},D=({priority:t,short:s=!1})=>{const r={high:"text-red-600",medium:"text-yellow-600",normal:"text-green-600",low:"text-gray-500"},a={high:Z,medium:z,normal:v,low:v},c={high:"High",medium:"Medium",normal:"Normal",low:"Low"},i=a[t]||a.low;return e.jsxs("span",{className:`inline-flex items-center ${r[t]||r.low}`,children:[e.jsx(i,{className:"h-4 w-4 mr-1"}),!s&&(c[t]||"Low")]})},f=({userId:t,label:s})=>{const r=b[t]||{name:"Unknown"};return e.jsxs("div",{className:"flex items-center",children:[r.avatar?e.jsx("img",{src:r.avatar,alt:r.name,className:"h-6 w-6 rounded-full mr-2"}):e.jsx("span",{className:"h-6 w-6 rounded-full bg-gray-200 flex items-center justify-center mr-2",children:e.jsx(g,{className:"h-4 w-4 text-gray-500"})}),e.jsxs("div",{children:[s&&e.jsx("div",{className:"text-xs text-gray-500",children:s}),e.jsx("div",{className:"text-sm text-gray-900",children:r.name})]})]})},u=({icon:t,label:s,active:r=!1,stubbed:a=!1})=>{const c=t;return e.jsxs("a",{href:"#",onClick:i=>i.preventDefault(),className:`
        flex items-center px-3 py-2.5 rounded-md text-sm font-medium
        ${r?"bg-blue-600 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"}
        ${a?"opacity-60 cursor-not-allowed":""}
      `,children:[e.jsx(c,{className:"h-5 w-5 mr-3"}),s]})},qe=()=>e.jsxs("div",{className:"flex flex-col h-full bg-gray-900 text-white shadow-lg",children:[e.jsx("div",{className:"flex items-center justify-between h-16 px-4 border-b border-gray-700",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("img",{src:"https://placehold.co/32x32/FFFFFF/333333?text=BLMS",alt:"Logo",className:"h-8 w-8 rounded-md"}),e.jsx("span",{className:"ml-3 text-lg font-semibold",children:"BLMS Platform"})]})}),e.jsxs("div",{className:"flex-1 p-4 space-y-2 overflow-y-auto",children:[e.jsx("h3",{className:"px-3 text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Primary Navigation"}),e.jsxs("nav",{className:"space-y-1",children:[e.jsx(u,{icon:W,label:"Shift Log",active:!0}),e.jsx(u,{icon:O,label:"Manual Lab",stubbed:!0}),e.jsx(u,{icon:k,label:"Data Views",stubbed:!0}),e.jsx(u,{icon:ie,label:"Filter Studio",stubbed:!0}),e.jsx(u,{icon:k,label:"Parameter Master",stubbed:!0}),e.jsx(u,{icon:X,label:"Reporting",stubbed:!0}),e.jsx(u,{icon:C,label:"Campaigns",stubbed:!0}),e.jsx(u,{icon:I,label:"Administration",stubbed:!0}),e.jsx(u,{icon:C,label:"System Health",stubbed:!0})]})]}),e.jsx("div",{className:"p-4 border-t border-gray-700",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"flex items-center justify-center h-10 w-10 rounded-full bg-blue-600 text-white font-bold text-sm",children:"SD"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("div",{className:"text-sm font-medium text-white",children:"Profile"}),e.jsx("div",{className:"text-xs text-gray-400",children:"supervisor.demo"})]})]})})]}),ze=({entries:t,onSelectEntry:s,onCreateNew:r})=>{const[a,c]=d.useState(!0),[i,x]=d.useState(""),h=d.useMemo(()=>t.filter(l=>{const o=i.toLowerCase();return!(o&&!l.title.toLowerCase().includes(o)&&!l.equipment.toLowerCase().includes(o)&&!l.id.toLowerCase().includes(o))}),[t,i]);return e.jsxs("div",{className:"flex-1 flex flex-col h-full overflow-hidden bg-white",children:[e.jsxs("header",{className:"flex items-center justify-between h-16 px-6 bg-white border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{className:"p-2 -ml-2 text-gray-600 md:hidden",children:e.jsx(he,{className:"h-6 w-6"})}),e.jsx("h1",{className:"text-2xl font-semibold text-gray-800 ml-2",children:"Shift Log"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(U,{className:"h-6 w-6 text-gray-500"}),e.jsx(g,{className:"h-6 w-6 text-gray-500"})]})]}),e.jsxs("main",{className:"flex-1 p-6 bg-gray-100 overflow-y-auto",children:[e.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm mb-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Entries"}),e.jsx("div",{className:"flex items-center space-x-3",children:e.jsxs("button",{onClick:r,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx(je,{className:"h-5 w-5 mr-2"}),"New Entry"]})})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ke,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search by title, ID, or KAP number...",value:i,onChange:l=>x(l.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("button",{className:"flex items-center justify-between px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 w-full md:w-auto",children:[e.jsx("span",{children:"Status: All"}),e.jsx(j,{className:"h-4 w-4 ml-2"})]}),e.jsxs("button",{className:"flex items-center justify-between px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 w-full md:w-auto",children:[e.jsx("span",{children:"Priority: All"}),e.jsx(j,{className:"h-4 w-4 ml-2"})]}),e.jsxs("button",{className:"flex items-center justify-between px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 w-full md:w-auto",children:[e.jsx("span",{children:"Area: All"}),e.jsx(j,{className:"h-4 w-4 ml-2"})]})]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priority"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Area"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-column text-gray-500 uppercase tracking-wider",children:"Created By"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created At"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:h.map(l=>e.jsxs("tr",{onClick:()=>s(l),className:"hover:bg-gray-50 cursor-pointer",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx(T,{status:l.status})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx(D,{priority:l.priority})}),e.jsxs("td",{className:"px-6 py-4 max-w-sm",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:l.title}),e.jsx("div",{className:"text-sm text-gray-500",children:l.equipment})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:N[l.areaId]?.name||"N/A"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:b[l.createdById]?.name||"N/A"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:y(l.createdAt)})})]},l.id))})]})})}),h.length===0&&e.jsx("div",{className:"text-center py-10 text-gray-500",children:"No entries found."})]}),e.jsxs("footer",{className:"h-10 px-6 bg-white border-t border-gray-200 flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"BLMS Prototype"}),e.jsx("span",{className:"text-sm text-gray-500",children:"dev - local"})]})]})},Ve=({entry:t,onClose:s,onSave:r})=>{const[a,c]=d.useState("details"),i=!t.status,[x,h]=d.useState(""),l=[{id:"details",label:"Details",icon:_},{id:"checklist",label:"Checklist",icon:Se,count:t.checklist.length},{id:"attachments",label:"Attachments",icon:A,count:t.attachments.length},{id:"comments",label:"Comments",icon:pe,count:t.comments.length},{id:"history",label:"History",icon:oe,count:t.history.length}],o=()=>{switch(a){case"details":return e.jsx(Ze,{entry:t});case"checklist":return e.jsx(He,{checklist:t.checklist});case"attachments":return e.jsx(Oe,{attachments:t.attachments});case"comments":return e.jsx(Re,{comments:t.comments,currentComment:x,setCurrentComment:h});case"history":return e.jsx(Ue,{history:t.history});default:return null}};return e.jsxs("div",{className:"fixed inset-0 z-30 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:s}),e.jsx("div",{className:"fixed inset-y-0 right-0 max-w-full flex pl-10",children:e.jsx("div",{className:"w-screen max-w-3xl",children:e.jsxs("div",{className:"h-full flex flex-col bg-white shadow-xl overflow-hidden",children:[e.jsx("header",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:i?"Create New Entry":`Entry ${t.id.toUpperCase()}`}),!i&&e.jsx("p",{className:"mt-1 text-sm text-gray-500 truncate max-w-md",children:t.title})]}),e.jsxs("div",{className:"ml-3 h-7 flex items-center space-x-2",children:[e.jsx("button",{className:"p-1 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100",children:e.jsx(we,{className:"h-6 w-6"})}),e.jsx("button",{className:"p-1 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100",children:e.jsx(re,{className:"h-6 w-6"})}),e.jsx("button",{onClick:s,className:"p-1 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500",children:e.jsx(Pe,{className:"h-6 w-6"})})]})]})}),e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"-mb-px flex space-x-6 px-6",children:l.map(m=>e.jsxs("button",{onClick:()=>c(m.id),className:`flex items-center whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm
                      ${a===m.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}
                    `,children:[e.jsx(m.icon,{className:`mr-2 h-5 w-5 ${a===m.id?"text-blue-500":"text-gray-400"}`}),m.label,m.count>0&&e.jsx("span",{className:`ml-2 rounded-full px-2 py-0.5 text-xs font-medium ${a===m.id?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-600"}`,children:m.count})]},m.id))})}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:o()}),e.jsxs("footer",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50",children:[e.jsx(be,{className:"h-4 w-4 mr-2 inline"}),"Edit"]}),e.jsxs("button",{className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-red-700 hover:bg-red-50",children:[e.jsx(S,{className:"h-4 w-4 mr-2 inline"}),"Delete"]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:s,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:i?"Create Entry":"Save Changes"})]})]})]})})})]})},Ze=({entry:t})=>e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx("input",{className:"text-2xl font-semibold text-gray-900 w-full border-b border-transparent focus:border-gray-300 outline-none",defaultValue:t.title||"New Entry Title"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx(p,{icon:De,label:"Type",value:t.type}),e.jsx(p,{icon:me,label:"Area",value:N[t.areaId]?.name}),e.jsx(p,{icon:I,label:"Equipment",value:t.equipment})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(p,{label:"Status",value:e.jsx(T,{status:t.status})}),e.jsx(p,{label:"Priority",value:e.jsx(D,{priority:t.priority})}),e.jsx(p,{icon:Y,label:"Due Date",value:y(t.dueAt)})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(p,{icon:g,label:"Created By",value:e.jsx(f,{userId:t.createdById})}),e.jsx(p,{icon:g,label:"Assigned To",value:e.jsx(f,{userId:t.assignedToId})}),e.jsx(p,{icon:te,label:"Created At",value:y(t.createdAt)})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),e.jsx("textarea",{rows:"8",className:"w-full p-3 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500",defaultValue:t.description})]})]}),p=({icon:t,label:s,value:r})=>{const a=t;return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center text-sm font-medium text-gray-500 mb-1",children:[a&&e.jsx(a,{className:"h-5 w-5 mr-2 text-gray-400"}),s]}),e.jsx("div",{className:"text-sm text-gray-900",children:r||"N/A"})]})},He=({checklist:t})=>{const s=t.filter(c=>c.isDone).length,r=t.length,a=r>0?s/r*100:0;return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Checklist"}),e.jsx("button",{className:"text-sm font-medium text-blue-600 hover:text-blue-800",children:"+ Add Item"})]}),r>0&&e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[e.jsx("span",{children:"Progress"}),e.jsxs("span",{children:[s," / ",r," Completed"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:e.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:`${a}%`}})})]}),e.jsx("div",{className:"space-y-3",children:t.map(c=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",defaultChecked:c.isDone,className:"h-5 w-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("input",{type:"text",defaultValue:c.text,className:`ml-3 flex-1 border-0 border-b p-1 ${c.isDone?"text-gray-500 line-through":"text-gray-900"} focus:outline-none focus:border-b-blue-500`})]},c.id))})]})},Oe=({attachments:t})=>e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-4 p-6 border-2 border-dashed border-gray-300 rounded-lg text-center cursor-pointer hover:border-blue-500 hover:bg-gray-50",children:[e.jsx(A,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium text-blue-600",children:"Click to upload"})," or drag and drop"]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Max file size: 50MB"})]}),e.jsx("div",{className:"space-y-3",children:t.map(s=>e.jsxs("div",{className:"flex items-center p-3 border border-gray-200 rounded-md",children:[e.jsx(_,{className:"h-6 w-6 text-gray-400"}),e.jsxs("div",{className:"ml-3 flex-1",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:s.filename}),e.jsx("div",{className:"text-xs text-gray-500",children:s.size})]}),e.jsx("button",{className:"text-sm font-medium text-blue-600 hover:text-blue-800",children:"Download"}),e.jsx("button",{className:"ml-4 text-gray-400 hover:text-red-600",children:e.jsx(S,{className:"h-4 w-4"})})]},s.id))})]}),Re=({comments:t,currentComment:s,setCurrentComment:r})=>e.jsxs("div",{className:"p-6 flex flex-col h-full",children:[e.jsx("div",{className:"flex-1 space-y-4 overflow-y-auto",children:t.map(a=>e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(f,{userId:a.authorId}),e.jsxs("div",{className:"flex-1 bg-gray-100 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900",children:b[a.authorId]?.name}),e.jsx("span",{className:"text-xs text-gray-500",children:y(a.timestamp)})]}),e.jsx("p",{className:"text-sm text-gray-700",children:a.body})]})]},a.id))}),e.jsxs("div",{className:"mt-4 flex items-start space-x-3",children:[e.jsx("img",{src:b["user-3"].avatar,alt:"Current User",className:"h-10 w-10 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("textarea",{rows:"3",className:"w-full p-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Write a comment...",value:s,onChange:a=>r(a.target.value)}),e.jsxs("button",{className:"mt-2 flex items-center px-4 py-2 bg-blue-600 text-white rounded-md shadow-sm hover:bg-blue-700",children:[e.jsx(Me,{className:"h-4 w-4 mr-2"}),"Post Comment"]})]})]})]}),Ue=({history:t})=>e.jsx("div",{className:"p-6",children:e.jsx("ul",{className:"space-y-6",children:t.slice().reverse().map(s=>e.jsxs("li",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(f,{userId:s.userId})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm text-gray-700",children:s.action}),e.jsx("p",{className:"text-xs text-gray-500",children:y(s.timestamp)})]})]},s.id))})});function We(){const[t,s]=d.useState(Be),[r,a]=d.useState(null),c=l=>{a(l)},i=()=>{a(null)},x=()=>{a(Ee)},h=l=>{if(l.id==="new"){const o={...l,id:`sb-${Date.now()}`,createdAt:new Date().toISOString()};s([o,...t])}else s(t.map(o=>o.id===l.id?l:o));a(null)};return e.jsxs("div",{className:"flex h-screen w-screen overflow-hidden bg-gray-100 items-stretch",children:[e.jsx("div",{className:"hidden md:flex md:flex-shrink-0 w-64",children:e.jsx(qe,{})}),e.jsx(ze,{entries:t,onSelectEntry:c,onCreateNew:x}),r&&e.jsx(Ve,{entry:r,onClose:i,onSave:h})]})}export{We as default};
