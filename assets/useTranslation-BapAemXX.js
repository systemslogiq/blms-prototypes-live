import{b as G,r as g,I as W,g as $,c as D,d as X}from"./index-DRa8kFrC.js";const Y=(e,n,r,f)=>{const u=[r,{code:n,...f||{}}];if(e?.services?.logger?.forward)return e.services.logger.forward(u,"warn","react-i18next::",!0);w(u[0])&&(u[0]=`react-i18next:: ${u[0]}`),e?.services?.logger?.warn?e.services.logger.warn(...u):console?.warn&&console.warn(...u)},P={},A=(e,n,r,f)=>{w(r)&&P[r]||(w(r)&&(P[r]=new Date),Y(e,n,r,f))},U=(e,n)=>()=>{if(e.isInitialized)n();else{const r=()=>{setTimeout(()=>{e.off("initialized",r)},0),n()};e.on("initialized",r)}},I=(e,n,r)=>{e.loadNamespaces(n,U(e,r))},k=(e,n,r,f)=>{if(w(r)&&(r=[r]),e.options.preload&&e.options.preload.indexOf(n)>-1)return I(e,r,f);r.forEach(u=>{e.options.ns.indexOf(u)<0&&e.options.ns.push(u)}),e.loadLanguages(n,U(e,f))},B=(e,n,r={})=>!n.languages||!n.languages.length?(A(n,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:n.languages}),!0):n.hasLoadedNamespace(e,{lng:r.lng,precheck:(f,u)=>{if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&f.services.backendConnector.backend&&f.isLanguageChangingTo&&!u(f.isLanguageChangingTo,e))return!1}}),w=e=>typeof e=="string",H=e=>typeof e=="object"&&e!==null;var O={exports:{}},L={};var z;function J(){if(z)return L;z=1;var e=G();function n(i,l){return i===l&&(i!==0||1/i===1/l)||i!==i&&l!==l}var r=typeof Object.is=="function"?Object.is:n,f=e.useState,u=e.useEffect,t=e.useLayoutEffect,y=e.useDebugValue;function b(i,l){var p=l(),x=f({inst:{value:p,getSnapshot:l}}),S=x[0].inst,m=x[1];return t(function(){S.value=p,S.getSnapshot=l,h(S)&&m({inst:S})},[i,p,l]),u(function(){return h(S)&&m({inst:S}),i(function(){h(S)&&m({inst:S})})},[i]),y(p),p}function h(i){var l=i.getSnapshot;i=i.value;try{var p=l();return!r(i,p)}catch{return!0}}function d(i,l){return l()}var R=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:b;return L.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:R,L}var q;function K(){return q||(q=1,O.exports=J()),O.exports}var Q=K();const V=(e,n)=>w(n)?n:H(n)&&w(n.defaultValue)?n.defaultValue:Array.isArray(e)?e[e.length-1]:e,Z={t:V,ready:!1},ee=()=>()=>{},te=(e,n={})=>{const{i18n:r}=n,{i18n:f,defaultNS:u}=g.useContext(W)||{},t=r||f||$();t&&!t.reportNamespaces&&(t.reportNamespaces=new D),t||A(t,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const y=g.useMemo(()=>({...X(),...t?.options?.react,...n}),[t,n]),{useSuspense:b,keyPrefix:h}=y,d=g.useMemo(()=>{const a=u||t?.options?.defaultNS;return w(a)?[a]:a||["translation"]},[e,u,t]);t?.reportNamespaces?.addUsedNamespaces?.(d);const R=g.useRef(0),i=g.useCallback(a=>{if(!t)return ee;const{bindI18n:o,bindI18nStore:s}=y,c=()=>{R.current+=1,a()};return o&&t.on(o,c),s&&t.store.on(s,c),()=>{o&&o.split(" ").forEach(_=>t.off(_,c)),s&&s.split(" ").forEach(_=>t.store.off(_,c))}},[t,y]),l=g.useRef(),p=g.useCallback(()=>{if(!t)return Z;const a=!!(t.isInitialized||t.initializedStoreOnce)&&d.every(M=>B(M,t,y)),o=n.lng||t.language,s=R.current,c=l.current;if(c&&c.ready===a&&c.lng===o&&c.keyPrefix===h&&c.revision===s)return c;const j={t:t.getFixedT(o,y.nsMode==="fallback"?d:d[0],h),ready:a,lng:o,keyPrefix:h,revision:s};return l.current=j,j},[t,d,h,y,n.lng]),[x,S]=g.useState(0),{t:m,ready:v}=Q.useSyncExternalStore(i,p,p);g.useEffect(()=>{if(t&&!v&&!b){const a=()=>S(o=>o+1);n.lng?k(t,n.lng,d,a):I(t,d,a)}},[t,n.lng,d,v,b,x]);const E=t||{},N=g.useRef(null),C=g.useRef(),T=a=>{const o=Object.getOwnPropertyDescriptors(a);o.__original&&delete o.__original;const s=Object.create(Object.getPrototypeOf(a),o);if(!Object.prototype.hasOwnProperty.call(s,"__original"))try{Object.defineProperty(s,"__original",{value:a,writable:!1,enumerable:!1,configurable:!1})}catch{}return s},F=g.useMemo(()=>{const a=E,o=a?.language;let s=a;a&&(N.current&&N.current.__original===a?C.current!==o?(s=T(a),N.current=s,C.current=o):s=N.current:(s=T(a),N.current=s,C.current=o));const c=[m,s,v];return c.t=m,c.i18n=s,c.ready=v,c},[m,E,v,E.resolvedLanguage,E.language,E.languages]);if(t&&b&&!v)throw new Promise(a=>{const o=()=>a();n.lng?k(t,n.lng,d,o):I(t,d,o)});return F};export{te as u};
