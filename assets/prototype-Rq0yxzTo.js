import{c as T,u as f,j as e,X as P,r as h}from"./index-sWBy-JXG.js";import{D as M,R as H,T as G,P as U,C as Y,a as K}from"./theme-kI_goCzq.js";import{S as V,M as X,a as J,B as Z,b as Q,F as W,g as ee,c as se}from"./mockData-CJFLWulw.js";import{C as te,S as ae,a as le}from"./Combination-BlPY0A1j.js";import{D as ne}from"./database-DBEQe3t3.js";import{S as ie}from"./settings-BlJ_MNBt.js";const re=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],ce=T("chevron-left",re);const oe=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],de=T("chevron-right",oe);const xe=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],me=T("house",xe);const he=[["path",{d:"M7 18v-6a5 5 0 1 1 10 0v6",key:"pcx96s"}],["path",{d:"M5 21a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-1a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2z",key:"1b4s83"}],["path",{d:"M21 12h1",key:"jtio3y"}],["path",{d:"M18.5 4.5 18 5",key:"g5sp9y"}],["path",{d:"M2 12h1",key:"1uaihz"}],["path",{d:"M12 2v1",key:"11qlp1"}],["path",{d:"m4.929 4.929.707.707",key:"1i51kw"}],["path",{d:"M12 12v6",key:"3ahymv"}]],pe=T("siren",he);const ge=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 8h7",key:"kbo1nt"}],["path",{d:"M8 12h6",key:"ikassy"}],["path",{d:"M11 16h5",key:"oq65wt"}]],ue=T("square-chart-gantt",ge);function be({theme:s,onThemeChange:a}){const{t:i}=f(),l=()=>{const o=s==="dark"?"light":"dark";try{localStorage.setItem("v3-theme",o)}catch(r){console.error("Failed to save theme preference",r)}a(o)};return e.jsx("button",{type:"button",onClick:l,className:"p-1.5 hover:bg-slate-800/60 rounded-lg transition-all","aria-label":i("common.theme.toggle")||"Toggle theme",title:i("common.theme.toggle")||"Toggle theme",children:s==="dark"?e.jsx(V,{className:"h-4 w-4 text-slate-400"}):e.jsx(X,{className:"h-4 w-4 text-slate-500"})})}function fe(){const{i18n:s}=f(),a=()=>{const i=s.language==="en"?"de":"en";s.changeLanguage(i)};return e.jsx("button",{onClick:a,className:"text-xs font-semibold px-2.5 py-1.5 rounded-lg text-slate-300 hover:text-slate-100 hover:bg-slate-800/60 transition-all",children:s.language==="en"?"DE":"EN"})}function je({onMobileMenuToggle:s,isMobileMenuOpen:a,theme:i,onThemeChange:l,activeModuleLabel:o}){const{t:r}=f(),x=i==="light"?"bg-emerald-500/20 text-emerald-700 ring-1 ring-emerald-500/30":"bg-emerald-500/10 text-emerald-200 ring-1 ring-emerald-500/40",c=i==="light"?"bg-emerald-500":"bg-emerald-400";return e.jsx("header",{className:"v5-header border-b border-slate-900 bg-slate-950/95 backdrop-blur sticky top-0 z-40",children:e.jsx("div",{className:"px-4 py-3 lg:px-6",children:e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{type:"button",onClick:s,className:"lg:hidden p-1.5 hover:bg-slate-800/60 rounded-lg transition-all","aria-label":r("common.toggleNavigation")||"Toggle navigation",children:a?e.jsx(P,{className:"h-5 w-5"}):e.jsx(J,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-[10px] font-bold uppercase tracking-[0.18em] text-sky-400",children:[r("header.blms")," Prototype"]}),e.jsx("h1",{className:"text-lg font-semibold text-slate-50",children:o||r("modules.shiftBook")})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:`hidden sm:inline-flex items-center gap-1 rounded-full px-2 py-0.5 text-[11px] font-medium mr-2 ${x}`,children:[e.jsx("span",{className:`inline-block h-1.5 w-1.5 rounded-full ${c}`}),r("profile.online")]}),e.jsx("button",{type:"button",className:"p-1.5 hover:bg-slate-800/60 rounded-lg transition-all","aria-label":r("common.notifications")||"Notifications",children:e.jsx(Z,{className:"h-4 w-4 text-slate-400"})}),e.jsx(fe,{}),e.jsx(be,{theme:i,onThemeChange:l})]})]})})})}function Ne({modules:s,activeModule:a,onModuleChange:i,collapsed:l,onToggleCollapse:o,isMobileOpen:r,onCloseMobile:x}){const{t:c}=f();return e.jsxs(e.Fragment,{children:[r&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm lg:hidden z-30",onClick:x}),e.jsx("aside",{className:`fixed inset-y-0 left-0 z-40 bg-slate-950/95 border-r border-slate-900 transform transition-all duration-200 lg:relative lg:translate-x-0 ${r?"translate-x-0 shadow-2xl":"-translate-x-full lg:translate-x-0"} ${l?"lg:w-16":"lg:w-60"}`,children:e.jsxs("div",{className:"flex h-full flex-col overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2 border-b border-slate-900 px-4 py-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-xl bg-sky-600 text-xs font-semibold text-slate-50",children:"B"}),!l&&e.jsxs("div",{children:[e.jsx("p",{className:"text-[11px] font-semibold tracking-[0.18em] uppercase text-slate-400",children:c("header.blms")}),e.jsx("p",{className:"text-xs text-slate-500",children:"Schweizer Zucker AG"})]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{type:"button",className:"lg:hidden rounded-full p-1 text-slate-400 hover:bg-slate-900 hover:text-slate-50",onClick:x,"aria-label":"Close navigation",children:e.jsx(P,{className:"h-4 w-4"})}),e.jsx("button",{type:"button",onClick:o,className:"hidden lg:inline-flex rounded-full p-1 text-slate-400 hover:bg-slate-900 hover:text-slate-50","aria-label":l?"Expand navigation":"Collapse navigation",children:l?e.jsx(de,{className:"h-4 w-4"}):e.jsx(ce,{className:"h-4 w-4"})})]})]}),e.jsx("nav",{className:"flex-1 space-y-1 px-2 py-3",children:s.map(g=>{const m=a===g.id,d=g.icon;return e.jsxs("button",{type:"button",onClick:()=>{i(g.id),r&&x()},className:`flex items-center rounded-xl transition ${l?"w-full justify-center p-2":"w-full px-3 py-2 text-sm text-left"} ${m?"bg-slate-800 text-slate-50 ring-1 ring-sky-500/70":"text-slate-300 hover:bg-slate-900"}`,children:[d&&e.jsx(d,{className:`h-4 w-4 shrink-0 ${l?"":"mr-3"}`}),!l&&e.jsx("span",{className:"flex-1 truncate",children:g.label}),m&&!l&&e.jsx("span",{className:"text-[10px] uppercase tracking-wide text-sky-400",children:"Active"})]},g.id)})}),e.jsx("div",{className:"border-t border-slate-900 px-3 py-3",children:e.jsxs("div",{className:`flex items-center rounded-xl hover:bg-slate-900 ${l?"justify-center p-2":"w-full gap-3 px-2 py-2 text-left"}`,children:[e.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-full bg-slate-800 text-sm font-medium text-slate-100",children:"JC"}),!l&&e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs font-medium text-slate-100",children:"Shift Supervisor"}),e.jsx("p",{className:"text-[11px] text-slate-500",children:c("profile.settings")})]})]})})]})})]})}const ye={open:"bg-emerald-50 text-emerald-900 ring-1 ring-emerald-600/30",in_progress:"bg-amber-50 text-amber-900 ring-1 ring-amber-600/30",completed:"bg-sky-50 text-sky-900 ring-1 ring-sky-600/30",cancelled:"bg-rose-50 text-rose-900 ring-1 ring-rose-600/30"},ve={open:"bg-emerald-900/50 text-emerald-100 ring-1 ring-emerald-700/60",in_progress:"bg-amber-900/50 text-amber-100 ring-1 ring-amber-700/60",completed:"bg-sky-900/50 text-sky-100 ring-1 ring-sky-700/60",cancelled:"bg-rose-900/45 text-rose-100 ring-1 ring-rose-700/60"},ke={high:"bg-rose-50 text-rose-900 ring-1 ring-rose-600/30",medium:"bg-amber-50 text-amber-900 ring-1 ring-amber-600/30",normal:"bg-amber-50 text-amber-900 ring-1 ring-amber-600/30",low:"bg-slate-100 text-slate-900 ring-1 ring-slate-400/50"},we={high:"bg-rose-900/50 text-rose-100 ring-1 ring-rose-700/60",medium:"bg-amber-900/50 text-amber-100 ring-1 ring-amber-700/60",normal:"bg-amber-900/50 text-amber-100 ring-1 ring-amber-700/60",low:"bg-slate-800/60 text-slate-100 ring-1 ring-slate-600/60"},Ce={instruction:"bg-sky-50 text-sky-900 ring-1 ring-sky-500/30",record:"bg-indigo-50 text-indigo-900 ring-1 ring-indigo-500/30",suggestion:"bg-emerald-50 text-emerald-900 ring-1 ring-emerald-500/30"},Se={instruction:"bg-sky-900/60 text-sky-100 ring-1 ring-sky-700/60",record:"bg-indigo-900/60 text-indigo-100 ring-1 ring-indigo-700/60",suggestion:"bg-emerald-900/60 text-emerald-100 ring-1 ring-emerald-700/60"},$e=[{id:"details",label:"details"},{id:"attachments",label:"attachments"},{id:"checklist",label:"checklist"},{id:"comments",label:"comments"},{id:"history",label:"history"}];function w(s,a){return new Date(s).toLocaleString(a,{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}function E(s,a){return new Date(s).toLocaleDateString(a,{day:"2-digit",month:"2-digit",year:"numeric"})}function L({status:s,theme:a="dark"}){const{t:i}=f(),l=a==="light"?ye:ve;return e.jsx("span",{className:`inline-flex items-center justify-center rounded-full px-3 py-1 text-[11px] font-semibold whitespace-nowrap ${l[s]||""}`,children:i(`entries.${s}`,s)})}function O({priority:s,theme:a="dark"}){const{t:i}=f(),l=a==="light"?ke:we;return e.jsx("span",{className:`inline-flex items-center justify-center rounded-full px-3 py-1 text-[11px] font-semibold whitespace-nowrap ${l[s]||""}`,children:i(`entries.${s}`,s)})}function R({type:s,theme:a="dark"}){const{t:i}=f(),l=a==="light"?Ce:Se;return e.jsx("span",{className:`inline-flex items-center justify-center rounded-full px-2.5 py-0.5 text-[10px] font-semibold uppercase tracking-wide ${l[s]||"bg-slate-700/50 text-slate-200"}`,children:i(`entries.${s}`,s)})}function B({label:s,selected:a,onChange:i,options:l,translatePrefix:o="entries",theme:r="dark"}){const{t:x}=f(),[c,g]=h.useState(!1),m=p=>{const S=a.includes(p)?a.filter(A=>A!==p):[...a,p];i(S)},d=r==="light",u=a.length>0?d?"bg-sky-50 text-sky-700 ring-1 ring-sky-500/50":"bg-sky-500/20 text-sky-100 ring-1 ring-sky-500":d?"bg-white text-slate-600 ring-1 ring-slate-200 hover:bg-slate-50 hover:text-slate-800":"bg-slate-900/60 text-slate-300 ring-1 ring-slate-700 hover:bg-slate-800/80",b=d?"border-slate-200 bg-white/95 shadow-lg":"border-slate-800 bg-slate-950/95 shadow-xl",n=d?"text-slate-600 hover:bg-slate-100 focus:bg-slate-100":"text-slate-400 hover:bg-slate-800/50 focus:bg-slate-800/50",D=d?"text-sky-700 font-medium":"text-sky-100 font-medium",_=d?"text-sky-600":"text-sky-400",C=d?"text-slate-400 hover:bg-slate-100 hover:text-slate-600":"text-slate-500 hover:bg-slate-800/50 hover:text-slate-300";return e.jsxs(H,{open:c,onOpenChange:g,children:[e.jsx(G,{asChild:!0,children:e.jsxs("button",{type:"button",className:`inline-flex items-center gap-2 rounded-full px-3 py-1.5 text-xs font-medium transition ${u}`,children:[a.length===0?e.jsxs(e.Fragment,{children:[e.jsx(se,{className:"h-3.5 w-3.5"}),e.jsx("span",{children:s})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:s}),e.jsx("span",{className:`flex h-4 w-4 items-center justify-center rounded-full text-[10px] ${d?"bg-sky-100 text-sky-700":"bg-sky-500/30"}`,children:a.length})]}),e.jsx(le,{className:`h-3.5 w-3.5 transition-transform ${c?"rotate-180":""}`})]})}),e.jsx(U,{children:e.jsxs(Y,{className:`z-50 min-w-[200px] overflow-hidden rounded-xl border p-2 backdrop-blur-sm animate-in fade-in zoom-in-95 data-[side=bottom]:slide-in-from-top-2 ${b}`,sideOffset:8,align:"start",children:[e.jsx("div",{className:"space-y-1",children:l.map(p=>e.jsxs("button",{onClick:()=>m(p),className:`flex w-full items-center justify-between rounded-lg px-2 py-1.5 text-left text-xs focus:outline-none ${n}`,children:[e.jsx("span",{className:a.includes(p)?D:"",children:x(`${o}.${p}`,p)}),a.includes(p)&&e.jsx(K,{className:`h-3.5 w-3.5 ${_}`})]},p))}),a.length>0&&e.jsx("div",{className:`mt-2 border-t pt-2 ${d?"border-slate-100":"border-slate-800"}`,children:e.jsx("button",{onClick:()=>i([]),className:`w-full rounded-lg px-2 py-1.5 text-center text-xs ${C}`,children:x("filters.clearAll")})})]})})]})}function Te({entry:s,onClose:a,theme:i}){const{t:l,i18n:o}=f(),[r,x]=h.useState("details"),[c,g]=h.useState(s.description||""),[m,d]=h.useState(!1);function u(){m&&!window.confirm(l("common.unsavedChanges")||"You have unsaved changes. Do you really want to discard them?")||a()}function b(){d(!1)}return e.jsx("div",{className:"fixed inset-0 z-40 flex justify-center bg-slate-950/55 backdrop-blur-sm items-stretch md:items-center",children:e.jsxs("div",{className:"relative flex h-full w-full flex-col overflow-hidden border border-slate-800 bg-slate-900/95 shadow-[0_4px_12px_rgba(0,0,0,0.16)] rounded-none md:h-auto md:max-h-[90vh] md:max-w-3xl md:rounded-2xl",children:[e.jsxs("div",{className:"flex items-start justify-between gap-3 border-b border-slate-800 px-5 py-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx(L,{status:s.status,theme:i}),e.jsx(O,{priority:s.priority,theme:i}),e.jsx(R,{type:s.type,theme:i})]}),e.jsx("h2",{className:"text-lg font-semibold leading-snug text-slate-50",children:s.title}),e.jsxs("p",{className:"text-xs text-slate-400",children:[s.site," Â· ",s.area," Â· ",s.equipment?.kapNumber," Â·"," ",s.equipment?.label]}),e.jsxs("p",{className:"text-[11px] text-slate-500",children:["#",s.id," Â· ",l("entries.create")," ",w(s.createdAt,o.language)," ",l("filters.createdBy")," ",s.createdBy?.name]})]}),e.jsx("button",{type:"button",onClick:u,className:"ml-2 inline-flex h-8 w-8 items-center justify-center rounded-full bg-slate-900 text-slate-300 hover:bg-slate-800 hover:text-slate-50",children:"âœ•"})]}),e.jsx("div",{className:"flex border-b border-slate-800 px-5",children:e.jsx("nav",{className:"-mb-px flex flex-1 gap-1 overflow-x-auto py-1 text-sm",children:$e.map(n=>e.jsx("button",{type:"button",onClick:()=>x(n.id),className:`first:ml-1 last:mr-1 whitespace-nowrap rounded-t-xl px-3 py-2 text-xs font-medium transition ${r===n.id?"bg-slate-900 text-sky-100 ring-1 ring-sky-500/70 ring-b-0":"text-slate-400 hover:text-slate-100"}`,children:l(`entries.${n.label}`)},n.id))})}),e.jsxs("div",{className:"flex-1 space-y-4 overflow-y-auto px-5 py-4 text-sm",children:[r==="details"&&e.jsxs("section",{className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs font-medium text-slate-400",children:l("entries.assignedTo")}),e.jsx("div",{className:"rounded-xl border border-slate-800 bg-slate-950 px-3 py-2 text-sm text-slate-100",children:s.assignedTo?.name||"Unassigned"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs font-medium text-slate-400",children:l("entries.dueDate")}),e.jsx("div",{className:"rounded-xl border border-slate-800 bg-slate-950 px-3 py-2 text-sm text-slate-100",children:s.dueAt?w(s.dueAt,o.language):"â€”"})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs font-medium text-slate-400",children:l("entries.description")}),e.jsx("textarea",{rows:5,className:"w-full rounded-xl border border-slate-800 bg-slate-950 px-3 py-2 text-sm text-slate-100 placeholder:text-slate-500 focus:border-sky-500 focus:outline-none focus:ring-1 focus:ring-sky-500/70",value:c,onChange:n=>{g(n.target.value),d(!0)},placeholder:l("entries.whatHappening")||"Describe what should be done..."})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs font-medium text-slate-400",children:l("filters.createdBy")}),e.jsx("div",{className:"rounded-xl border border-slate-800 bg-slate-950 px-3 py-2 text-sm text-slate-100",children:s.createdBy?.name})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs font-medium text-slate-400",children:"Shared/kiosk actor"}),e.jsx("div",{className:"rounded-xl border border-slate-800 bg-slate-950 px-3 py-2 text-sm text-slate-500",children:"(Prototype only â€” kiosk actor would appear here)"})]})]})]}),r==="attachments"&&e.jsxs("section",{className:"space-y-3",children:[e.jsxs("div",{className:"rounded-xl border border-dashed border-slate-700 bg-slate-950 px-4 py-6 text-center text-sm text-slate-400",children:[e.jsxs("p",{className:"mb-2 text-slate-200",children:[l("entries.attachments")," (prototype)"]}),e.jsx("p",{children:"Drag & drop files here or tap to select. In the real implementation, this connects to S3-compatible object storage, AV scan, and text extraction for search."})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 text-xs text-slate-400",children:[e.jsxs("span",{className:"rounded-full bg-slate-900 px-2 py-0.5",children:["ðŸ“Ž ",s.attachmentsCount||0," attachment(s) in sample data"]}),e.jsx("span",{className:"rounded-full bg-slate-900 px-2 py-0.5",children:"Text search index: attachment text + entry text"})]})]}),r==="checklist"&&e.jsx("section",{className:"space-y-3",children:s.checklist&&s.checklist.length>0?e.jsx("ol",{className:"space-y-2",children:s.checklist.map(n=>e.jsxs("li",{className:"flex items-start gap-2 rounded-xl border border-slate-800 bg-slate-950 px-3 py-2",children:[e.jsx("span",{className:"mt-1",children:n.isDone?"âœ…":"â¬œï¸"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:`text-sm ${n.isDone?"text-slate-400 line-through":"text-slate-100"}`,children:n.text}),n.doneAt&&e.jsxs("p",{className:"mt-1 text-[11px] text-slate-500",children:["Done ",w(n.doneAt,o.language)," by"," ",n.doneBy||n.doneByUser||"n/a"]})]})]},n.id))}):e.jsx("p",{className:"text-sm text-slate-400",children:"No checklist items defined for this entry."})}),r==="comments"&&e.jsxs("section",{className:"space-y-3",children:[e.jsxs("div",{className:"rounded-xl border border-slate-800 bg-slate-950 p-3",children:[e.jsx("textarea",{rows:3,className:"w-full rounded-lg border border-slate-800 bg-slate-950 px-3 py-2 text-sm text-slate-100 placeholder:text-slate-500 focus:border-sky-500 focus:outline-none focus:ring-1 focus:ring-sky-500/70",placeholder:l("entries.reply")||"Add a comment..."}),e.jsxs("div",{className:"mt-2 flex items-center justify-between text-xs text-slate-500",children:[e.jsx("span",{children:"Attachments, mentions and notifications are supported in the SRS."}),e.jsx("button",{type:"button",className:"rounded-full bg-sky-600 px-3 py-1 text-xs font-medium text-slate-50 hover:bg-sky-500",children:l("entries.reply")||"Comment"})]})]}),e.jsx("div",{className:"space-y-2",children:s.comments&&s.comments.length>0?s.comments.map(n=>e.jsxs("article",{className:"rounded-xl border border-slate-800 bg-slate-950 px-3 py-2",children:[e.jsxs("div",{className:"flex items-baseline justify-between gap-2",children:[e.jsx("h3",{className:"text-sm font-medium text-slate-100",children:n.author}),e.jsx("time",{className:"text-[11px] text-slate-500",children:w(n.createdAt,o.language)})]}),e.jsx("p",{className:"mt-1 text-sm text-slate-200",children:n.body})]},n.id)):e.jsx("p",{className:"text-sm text-slate-400",children:"No comments yet."})})]}),r==="history"&&e.jsxs("section",{className:"space-y-3",children:[e.jsx("p",{className:"text-xs text-slate-400",children:"Every change to status, assignee, key fields and sign-offs is recorded in the audit log."}),e.jsx("ol",{className:"relative border-l border-slate-800 pl-4 text-sm",children:s.history&&s.history.length>0?s.history.map(n=>e.jsxs("li",{className:"mb-3 ml-1",children:[e.jsx("div",{className:"absolute -left-[9px] mt-0.5 h-2 w-2 rounded-full bg-sky-400"}),e.jsx("p",{className:"text-xs text-slate-400",children:w(n.at,o.language)}),e.jsxs("p",{className:"text-sm text-slate-100",children:[e.jsx("span",{className:"font-medium",children:n.actor})," â€”"," ",n.action]})]},n.id)):e.jsx("li",{className:"ml-1 text-sm text-slate-400",children:"No history items in sample data."})})]})]}),e.jsxs("div",{className:"flex items-center justify-between gap-3 border-t border-slate-800 bg-slate-900/80 px-5 py-3 text-xs",children:[e.jsx("div",{className:"flex items-center gap-2 text-slate-400",children:m?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"inline-block h-1.5 w-1.5 rounded-full bg-amber-400"}),e.jsx("span",{children:"Unsaved changes in this dialog."})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"inline-block h-1.5 w-1.5 rounded-full bg-emerald-400"}),e.jsx("span",{children:"All changes saved (prototype state only)."})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{type:"button",onClick:u,className:"rounded-full border border-slate-700 bg-slate-900 px-4 py-1.5 text-xs font-medium text-slate-100 hover:bg-slate-800",children:l("common.cancel")}),e.jsx("button",{type:"button",onClick:b,className:"rounded-full bg-sky-600 px-4 py-1.5 text-xs font-medium text-slate-50 hover:bg-sky-500",children:l("common.save")})]})]})]})})}function F({theme:s="dark"}){const{t:a,i18n:i}=f(),o=ee(i.language).entries,[r,x]=h.useState(""),[c,g]=h.useState([]),[m,d]=h.useState([]),[u,b]=h.useState([]),[n,D]=h.useState("comfortable"),[_,C]=h.useState(null),p=Object.keys(M),S=M[n]||M.comfortable,A=()=>{const t=p.indexOf(n),$=p[(t+1)%p.length];D($)},I=["open","in_progress","completed","cancelled"],q=["high","medium","low"],z=["instruction","record","suggestion"],k=h.useMemo(()=>o.filter(t=>c.length>0&&!c.includes(t.status)||m.length>0&&!m.includes(t.priority)||u.length>0&&!u.includes(t.type)?!1:r.trim()?[t.id,t.title,t.description,t.area,t.site,t.equipment?.kapNumber,t.equipment?.label,t.createdBy?.name,t.assignedTo?.name,...t.tags||[]].filter(Boolean).join(" ").toLowerCase().includes(r.toLowerCase()):!0),[r,c,m,u,o]),j=S.py||"py-3",N=S.px||"px-2",y=S.text||"";return e.jsxs("div",{className:"flex flex-col flex-1 min-w-0",children:[e.jsxs("main",{className:"mx-auto flex max-w-6xl flex-col gap-4 px-4 py-5 w-full",children:[e.jsxs("section",{className:"flex flex-col gap-3 rounded-2xl border border-slate-800 bg-slate-950/70 p-4 shadow-[0_4px_12px_rgba(0,0,0,0.12)]",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsxs("div",{className:"relative flex-1 min-w-[180px]",children:[e.jsx("input",{type:"text",placeholder:a("header.searchPlaceholder")||"Search title, area, equipment, KAP, personâ€¦",value:r,onChange:t=>x(t.target.value),className:"h-9 w-full rounded-xl border border-slate-700/80 bg-slate-900/80 px-8 text-sm text-slate-100 placeholder:text-slate-500 focus:border-sky-500 focus:outline-none focus:ring-1 focus:ring-sky-500/70"}),e.jsx("span",{className:"pointer-events-none absolute inset-y-0 left-2 flex items-center text-slate-500",children:"ðŸ”"})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx(B,{label:a("filters.status"),selected:c,onChange:g,options:I,theme:s}),e.jsx(B,{label:a("filters.priority")||"Priority",selected:m,onChange:d,options:q,theme:s}),e.jsx(B,{label:a("filters.type")||"Type",selected:u,onChange:b,options:z,theme:s})]}),e.jsx("div",{className:"ml-auto flex items-center gap-2",children:e.jsxs("button",{type:"button",onClick:A,className:"inline-flex items-center gap-2 rounded-full bg-slate-900/80 px-3 py-1.5 text-xs font-medium text-slate-200 ring-1 ring-slate-700 hover:bg-slate-800/80",title:a("common.toggleDensity"),children:[e.jsx(ie,{className:"h-4 w-4"}),e.jsxs("span",{className:"hidden sm:inline",children:[a("common.density"),": ",a(`density.${n}`)]}),e.jsx("span",{className:"sm:hidden capitalize",children:a(`density.${n}`)})]})})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs text-slate-400",children:[e.jsxs("span",{className:"hidden md:inline",children:[k.length," ",a("common.entriesShown")||"entries shown"]}),e.jsxs("span",{className:"md:hidden",children:[k.length," ",a("common.entriesShown")||"entries"]})]})]}),e.jsxs("section",{className:"rounded-2xl border border-slate-800 bg-slate-950/80 shadow-[0_4px_12px_rgba(0,0,0,0.12)] overflow-hidden",children:[e.jsx("div",{className:"hidden md:block overflow-x-auto",children:e.jsxs("table",{className:"min-w-full table-fixed text-sm",children:[e.jsx("thead",{className:"border-b border-slate-800 bg-slate-950/80 text-xs uppercase tracking-wide text-slate-400",children:e.jsxs("tr",{children:[e.jsxs("th",{className:"px-4 py-3 text-left w-[9rem]",children:[a("entries.status")," / ",a("entries.priority")]}),e.jsx("th",{className:"px-2 py-3 text-left w-[30%]",children:a("entries.title")}),e.jsxs("th",{className:"px-2 py-3 text-left w-[14rem]",children:[a("entries.area")," / ",a("entries.equipment")]}),e.jsx("th",{className:"px-2 py-3 text-left w-[9rem]",children:a("entries.assignedTo")}),e.jsx("th",{className:"px-3 py-3 text-left w-[9rem]",children:a("entries.create")}),e.jsx("th",{className:"px-2 py-3 text-left w-[6rem]",children:a("entries.dueDate")}),e.jsx("th",{className:"px-4 py-3 text-right w-[6rem]",children:"Meta"})]})}),e.jsxs("tbody",{className:"divide-y divide-slate-800/80 align-middle",children:[k.map(t=>e.jsxs("tr",{className:"cursor-pointer hover:bg-slate-900/30 transition",onClick:()=>C(t),children:[e.jsx("td",{className:`${N} ${j} ${y} align-top`,children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx(L,{status:t.status,theme:s}),e.jsx(O,{priority:t.priority,theme:s})]})}),e.jsx("td",{className:`${N} ${j} ${y} align-top`,children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"truncate text-[13px] font-medium text-slate-50",children:t.title}),e.jsx(R,{type:t.type,theme:s})]}),e.jsx("p",{className:"line-clamp-2 text-xs text-slate-400",children:t.description}),t.tags?.length?e.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:t.tags.map($=>e.jsxs("span",{className:"rounded-full bg-slate-900/80 px-3 py-1 text-[11px] text-slate-300 ring-1 ring-slate-800",children:["#",$]},$))}):null]})}),e.jsx("td",{className:`${N} ${j} ${y} align-top`,children:e.jsxs("div",{className:"flex flex-col gap-0.5 text-xs",children:[e.jsxs("span",{className:"font-medium text-slate-200",children:[t.site," Â· ",t.area]}),e.jsxs("span",{className:"text-slate-400",children:[t.equipment?.kapNumber," Â·"," ",t.equipment?.label]})]})}),e.jsxs("td",{className:`${N} ${j} ${y} align-top`,children:[e.jsx("div",{className:"text-xs text-slate-200",children:t.assignedTo?.name||"â€”"}),e.jsxs("div",{className:"text-[11px] text-slate-500",children:[a("filters.createdBy")," ",t.createdBy?.name]})]}),e.jsx("td",{className:`${N} ${j} ${y} align-top text-xs text-slate-300`,children:w(t.createdAt,i.language)}),e.jsx("td",{className:`${N} ${j} ${y} align-top text-xs text-slate-300`,children:t.dueAt?E(t.dueAt,i.language):"â€”"}),e.jsx("td",{className:`${N} ${j} ${y} align-middle text-right text-xs text-slate-500`,children:e.jsxs("div",{className:"flex flex-col items-end gap-1",children:[e.jsxs("div",{className:"inline-flex items-center gap-3",children:[e.jsxs("span",{className:"inline-flex items-center gap-1 text-slate-600",children:["ðŸ“Ž",e.jsx("span",{className:"min-w-[12px] text-right",children:t.attachmentsCount||0})]}),e.jsxs("span",{className:"inline-flex items-center gap-1 text-slate-600",children:["ðŸ’¬",e.jsx("span",{className:"min-w-[12px] text-right",children:t.commentsCount||t.comments?.length||0})]})]}),t.confidential&&e.jsx("span",{className:"rounded-full bg-rose-500/10 px-2 py-0.5 text-[10px] text-rose-200 ring-1 ring-rose-500/40",children:"Confidential"})]})})]},t.id)),k.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"px-4 py-8 text-center text-sm text-slate-500",children:a("entries.noEntriesFound")||"No entries match your current filters."})})]})]})}),e.jsxs("div",{className:"divide-y divide-slate-800 md:hidden",children:[k.map(t=>e.jsxs("button",{type:"button",onClick:()=>C(t),className:"flex w-full flex-col items-stretch gap-2 px-4 py-3 text-left hover:bg-slate-900/80",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(L,{status:t.status,theme:s}),e.jsx(O,{priority:t.priority,theme:s})]}),e.jsx("span",{className:"text-[11px] text-slate-400",children:E(t.createdAt,i.language)})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"line-clamp-2 text-[13px] font-medium text-slate-50",children:t.title}),e.jsx(R,{type:t.type,theme:s})]}),e.jsx("p",{className:"line-clamp-2 text-xs text-slate-400",children:t.description}),e.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-2 text-[11px] text-slate-300",children:[e.jsxs("span",{children:[t.site," Â· ",t.area]}),e.jsx("span",{className:"text-slate-500",children:"â€¢"}),e.jsxs("span",{children:[t.equipment?.kapNumber," Â· ",t.equipment?.label]})]}),e.jsxs("div",{className:"mt-1 flex items-center justify-between text-[11px] text-slate-400",children:[e.jsx("span",{children:t.assignedTo?.name||"Unassigned"}),e.jsxs("span",{children:["ðŸ“Ž ",t.attachmentsCount||0," Â· ðŸ’¬"," ",t.commentsCount||t.comments?.length||0]})]})]})]},t.id)),k.length===0&&e.jsx("div",{className:"px-4 py-6 text-center text-sm text-slate-500",children:a("entries.noEntriesFound")||"No entries match your current filters."})]})]})]}),_&&e.jsx(Te,{entry:_,onClose:()=>C(null),theme:s})]})}function v({name:s}){return e.jsx("div",{className:"flex flex-1 items-center justify-center",children:e.jsxs("div",{className:"max-w-md rounded-2xl border border-slate-800 bg-slate-950/90 px-6 py-5 text-center shadow-[0_4px_12px_rgba(0,0,0,0.14)]",children:[e.jsx("p",{className:"text-xs font-medium uppercase tracking-[0.25em] text-slate-500",children:"Module stub"}),e.jsx("h1",{className:"mt-2 text-xl font-semibold text-slate-50",children:s}),e.jsx("p",{className:"mt-2 text-sm text-slate-400",children:"This module is not part of the interactive prototype yet. The navigation shows how it will live next to the Shift Book within BLMS."})]})})}function _e(){const{t:s}=f(),[a,i]=h.useState("shiftbook"),[l,o]=h.useState(!1),[r,x]=h.useState(!1),[c,g]=h.useState(()=>typeof window>"u"?"light":localStorage.getItem("v3-theme")||"light"),m=[{id:"dashboard",label:s("modules.dashboards")||"Dashboard",icon:me},{id:"shiftbook",label:s("modules.shiftBook")||"Shift Book",icon:Q},{id:"manual",label:s("modules.manualEntry")||"Manual Capture",icon:te},{id:"campaigns",label:s("modules.campaigns")||"Campaigns",icon:ue},{id:"plant",label:s("modules.parameterMaster")||"Plant Master",icon:ne},{id:"reporting",label:s("modules.reporting")||"Reporting",icon:W},{id:"alarms",label:"Alarms & Events",icon:pe},{id:"admin",label:s("modules.administration")||"Admin",icon:ae}],d=()=>{switch(a){case"dashboard":return e.jsx(v,{name:"Dashboard"});case"shiftbook":return e.jsx(F,{theme:c});case"manual":return e.jsx(v,{name:"Manual Capture"});case"campaigns":return e.jsx(v,{name:"Campaigns"});case"reporting":return e.jsx(v,{name:"Reporting"});case"plant":return e.jsx(v,{name:"Plant Master"});case"alarms":return e.jsx(v,{name:"Alarms & Events"});case"admin":return e.jsx(v,{name:"Admin"});default:return e.jsx(F,{theme:c})}},u=m.find(b=>b.id===a)?.label;return e.jsxs("div",{className:`shiftlog-v5 ${c==="dark"?"is-dark":"is-light"} min-h-screen bg-slate-950 text-slate-100 flex`,children:[e.jsx(Ne,{modules:m,activeModule:a,onModuleChange:i,collapsed:l,onToggleCollapse:()=>o(b=>!b),isMobileOpen:r,onCloseMobile:()=>x(!1),theme:c}),e.jsxs("div",{className:"flex-1 min-w-0 flex flex-col min-h-screen bg-slate-950/60",children:[e.jsx(je,{onMobileMenuToggle:()=>x(b=>!b),isMobileMenuOpen:r,theme:c,onThemeChange:g,activeModuleLabel:u}),e.jsx("main",{className:"flex-1 flex flex-col",children:d()})]})]})}function Re(){return e.jsx(_e,{})}export{Re as default};
