import{c as D,u as $,j as e,r as i,a as T,X as oe}from"./index-CjApfBX9.js";import{b as ne,C as Ge,c as We,a as Ke,d as Ue,S as qe,M as ze,B as He,F as Ye,j as le,k as Y,f as G,l as O,n as W,t as Ze,p as Je,P as I,h as F,o as Qe,m as w,q as Xe,s as et,D as tt,v as st,i as rt,e as at,g as ot}from"./mockData-MXdOik3F.js";import{a as nt,C as lt,L as it,W as dt,b as ct,f as ut,P,c as xt,U as mt,e as B,d as pt,S as ft}from"./helpers-1dV1Pa3g.js";const ht=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],te=D("calendar",ht);const bt=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],se=D("circle-check",bt);const gt=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],vt=D("history",gt);const Nt=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],jt=D("map-pin",Nt);const kt=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],ie=D("message-square",kt);const wt=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],yt=D("send",wt);const Ct=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],It=D("tag",Ct),re=[{id:"shift-book",icon:ne,labelKey:"modules.shiftBook",active:!0},{id:"platform",icon:nt,labelKey:"modules.platformServices"},{id:"manual-entry",icon:Ge,labelKey:"modules.manualEntry"},{id:"dashboards",icon:lt,labelKey:"modules.dashboards"},{id:"admin",icon:We,labelKey:"modules.administration"}],Rt=({children:t,isDark:s,onToggleTheme:a,isMobileMenuOpen:r,setIsMobileMenuOpen:o})=>{const{t:l}=$();return e.jsxs("div",{className:"flex h-full relative",children:[e.jsxs("aside",{className:"hidden md:flex w-64 flex-col border-r border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 z-20 transition-colors duration-300",children:[e.jsx("div",{className:"h-16 flex items-center px-6 border-b border-slate-100 dark:border-slate-800",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-indigo-600 flex items-center justify-center text-white font-bold shadow-indigo-200 dark:shadow-none shadow-lg",children:"B"}),e.jsx("span",{className:"font-bold text-lg tracking-tight text-slate-900 dark:text-white",children:"BLMS"})]})}),e.jsx("nav",{className:"flex-1 py-6 px-3 space-y-1 overflow-y-auto",children:re.map(n=>e.jsxs("button",{className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 group ${n.active?"bg-indigo-50 dark:bg-indigo-500/10 text-indigo-700 dark:text-indigo-300 shadow-sm":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800 hover:text-slate-900 dark:hover:text-slate-200"}`,children:[e.jsx(n.icon,{className:`w-5 h-5 ${n.active?"text-indigo-600 dark:text-indigo-400":"text-slate-400 dark:text-slate-500 group-hover:text-slate-600 dark:group-hover:text-slate-300"}`}),l(n.labelKey)]},n.id))}),e.jsx("div",{className:"p-4 border-t border-slate-100 dark:border-slate-800",children:e.jsxs("div",{className:"flex items-center gap-3 px-2 py-2 rounded-xl bg-slate-50 dark:bg-slate-800/50 border border-slate-100 dark:border-slate-700/50",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:"https://placehold.co/100x100/6366F1/FFFFFF?text=JD",alt:"User",className:"w-9 h-9 rounded-full border-2 border-white dark:border-slate-700"}),e.jsx("div",{className:"absolute bottom-0 right-0 w-2.5 h-2.5 bg-emerald-500 border-2 border-white dark:border-slate-800 rounded-full"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-semibold text-slate-900 dark:text-white truncate",children:"John Doe"}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 truncate",children:"Shift Supervisor"})]})]})})]}),e.jsxs("div",{className:"md:hidden fixed top-0 left-0 right-0 h-16 bg-white dark:bg-slate-900 border-b border-slate-200 dark:border-slate-800 z-30 px-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-indigo-600 flex items-center justify-center text-white font-bold",children:"B"}),e.jsx("span",{className:"font-bold text-lg text-slate-900 dark:text-white",children:"BLMS"})]}),e.jsx("button",{onClick:()=>o(!r),className:"p-2 text-slate-600 dark:text-slate-400",children:e.jsx(Ke,{className:"w-6 h-6"})})]}),r&&e.jsx("div",{className:"md:hidden fixed inset-0 z-40 bg-slate-900/50 backdrop-blur-sm",onClick:()=>o(!1),children:e.jsxs("div",{className:"absolute right-0 top-0 bottom-0 w-64 bg-white dark:bg-slate-900 shadow-xl flex flex-col p-4 animate-in slide-in-from-right duration-200",onClick:n=>n.stopPropagation(),children:[e.jsx("div",{className:"flex-1 space-y-2 mt-16",children:re.map(n=>e.jsxs("button",{className:`w-full flex items-center gap-3 px-3 py-3 rounded-lg text-sm font-medium ${n.active?"bg-indigo-50 dark:bg-indigo-900/20 text-indigo-700 dark:text-indigo-300":"text-slate-600 dark:text-slate-400"}`,children:[e.jsx(n.icon,{className:"w-5 h-5"}),l(n.labelKey)]},n.id))}),e.jsxs("div",{className:"border-t border-slate-100 dark:border-slate-800 pt-4 space-y-2",children:[e.jsxs("button",{className:"w-full flex items-center gap-3 px-3 py-2 text-slate-600 dark:text-slate-400 text-sm",children:[e.jsx(Ue,{className:"w-5 h-5"}),"Settings"]}),e.jsxs("button",{className:"w-full flex items-center gap-3 px-3 py-2 text-slate-600 dark:text-slate-400 text-sm",children:[e.jsx(it,{className:"w-5 h-5"}),"Logout"]})]})]})}),e.jsxs("main",{className:"flex-1 flex flex-col overflow-hidden relative z-10 md:pt-0 pt-16",children:[e.jsx("header",{className:"h-16 flex items-center justify-end px-4 md:px-6 border-b border-slate-200 dark:border-slate-800 bg-white/80 dark:bg-slate-900/80 backdrop-blur supports-[backdrop-filter]:bg-white/60",children:e.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[e.jsxs("div",{className:"hidden md:flex items-center gap-2 px-3 py-1.5 rounded-full bg-emerald-50 dark:bg-emerald-500/10 border border-emerald-200 dark:border-emerald-500/20",children:[e.jsx(dt,{className:"w-3.5 h-3.5 text-emerald-600 dark:text-emerald-400"}),e.jsx("span",{className:"text-xs font-medium text-emerald-700 dark:text-emerald-400",children:"System Online"})]}),e.jsx("div",{className:"h-6 w-px bg-slate-200 dark:bg-slate-700 hidden md:block"}),e.jsx("button",{onClick:a,className:"p-2 text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors",children:s?e.jsx(qe,{className:"w-5 h-5"}):e.jsx(ze,{className:"w-5 h-5"})}),e.jsxs("button",{className:"p-2 text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors relative",children:[e.jsx(He,{className:"w-5 h-5"}),e.jsx("span",{className:"absolute top-2 right-2 w-2 h-2 bg-red-500 rounded-full border-2 border-white dark:border-slate-900"})]})]})}),t]})]})},St=({entry:t,onClick:s,users:a,areas:r})=>{const{t:o}=$(),l=a[t.createdById]||{name:"Unknown",avatar:""},n=r[t.areaId],d=()=>{switch(t.type){case"instruction":return e.jsx(ne,{className:"w-4 h-4 text-emerald-500"});case"suggestion":return e.jsx(xt,{className:"w-4 h-4 text-amber-500"});default:return e.jsx(Ye,{className:"w-4 h-4 text-indigo-500"})}},m=()=>{switch(t.priority){case"high":return"bg-red-100 text-red-700 dark:bg-red-500/20 dark:text-red-300 border-red-200 dark:border-red-500/30";case"medium":return"bg-amber-100 text-amber-700 dark:bg-amber-500/20 dark:text-amber-300 border-amber-200 dark:border-amber-500/30";default:return"bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400 border-slate-200 dark:border-slate-700"}},x=()=>{const u={open:"bg-blue-50 text-blue-700 dark:bg-blue-500/10 dark:text-blue-400 border-blue-200 dark:border-blue-500/20",in_progress:"bg-purple-50 text-purple-700 dark:bg-purple-500/10 dark:text-purple-400 border-purple-200 dark:border-purple-500/20",completed:"bg-emerald-50 text-emerald-700 dark:bg-emerald-500/10 dark:text-emerald-400 border-emerald-200 dark:border-emerald-500/20",cancelled:"bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400 border-slate-200 dark:border-slate-700"};return u[t.status]||u.open};return e.jsx("div",{onClick:s,className:"group relative bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl p-4 hover:shadow-lg hover:border-indigo-300 dark:hover:border-indigo-700 transition-all duration-200 cursor-pointer",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"hidden sm:flex flex-none w-10 h-10 rounded-xl bg-slate-50 dark:bg-slate-800 items-center justify-center border border-slate-100 dark:border-slate-700/50 group-hover:scale-110 transition-transform",children:d()}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2 mb-1.5",children:[e.jsx("div",{className:"flex items-center gap-2 min-w-0",children:e.jsx("h3",{className:"text-sm font-semibold text-slate-900 dark:text-white truncate pr-2",children:t.title})}),e.jsxs("div",{className:"flex items-center gap-2 flex-none",children:[e.jsx("span",{className:`text-[10px] uppercase tracking-wider font-bold px-2 py-0.5 rounded-md border ${m()}`,children:o(`entries.${t.priority}`).substring(0,1)}),e.jsx("span",{className:`text-[10px] font-medium px-2.5 py-0.5 rounded-full border ${x()}`,children:o(`entries.${t.status}`)})]})]}),e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 line-clamp-2 mb-3 leading-relaxed",children:t.description}),e.jsxs("div",{className:"flex items-center justify-between border-t border-slate-50 dark:border-slate-800 pt-3 mt-1",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("img",{src:l.avatar,alt:l.name,className:"w-5 h-5 rounded-full border border-slate-200 dark:border-slate-700"}),e.jsx("span",{className:"text-xs font-medium text-slate-600 dark:text-slate-300 truncate max-w-[100px]",children:l.name})]}),e.jsx("div",{className:"w-px h-3 bg-slate-200 dark:bg-slate-700"}),e.jsxs("div",{className:"flex items-center gap-1 text-xs text-slate-400",children:[e.jsx(ct,{className:"w-3 h-3"}),e.jsx("span",{children:ut(t.createdAt)})]}),n&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-px h-3 bg-slate-200 dark:bg-slate-700"}),e.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400 bg-slate-100 dark:bg-slate-800 px-1.5 py-0.5 rounded",children:n.name})]})]}),e.jsxs("div",{className:"flex items-center gap-3 text-slate-400",children:[t.attachments?.length>0&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(P,{className:"w-3.5 h-3.5"}),e.jsx("span",{className:"text-xs",children:t.attachments.length})]}),t.comments?.length>0&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ie,{className:"w-3.5 h-3.5"}),e.jsx("span",{className:"text-xs",children:t.comments.length})]})]})]})]})]})})},Et=({entries:t,onSelectEntry:s,users:a,areas:r})=>t.length===0?e.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center p-8 rounded-2xl border-2 border-dashed border-slate-200 dark:border-slate-800 bg-slate-50/50 dark:bg-slate-900/50",children:[e.jsx("div",{className:"w-16 h-16 bg-slate-100 dark:bg-slate-800 rounded-full flex items-center justify-center mb-4",children:e.jsx("span",{className:"text-2xl",children:"ğŸ”"})}),e.jsx("h3",{className:"text-slate-900 dark:text-white font-medium text-lg",children:"No entries found"}),e.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mt-1 max-w-xs",children:"Try adjusting your search terms or filters to find what you're looking for."})]}):e.jsxs("div",{className:"h-full overflow-y-auto space-y-3 pr-1 custom-scrollbar",children:[t.map(o=>e.jsx(St,{entry:o,onClick:()=>s(o.id),users:a,areas:r},o.id)),e.jsx("div",{className:"h-4"})]});function Tt(t){const s=_t(t),a=i.forwardRef((r,o)=>{const{children:l,...n}=r,d=i.Children.toArray(l),m=d.find(At);if(m){const x=m.props.children,u=d.map(p=>p===m?i.Children.count(x)>1?i.Children.only(null):i.isValidElement(x)?x.props.children:null:p);return e.jsx(s,{...n,ref:o,children:i.isValidElement(x)?i.cloneElement(x,void 0,u):null})}return e.jsx(s,{...n,ref:o,children:l})});return a.displayName=`${t}.Slot`,a}function _t(t){const s=i.forwardRef((a,r)=>{const{children:o,...l}=a;if(i.isValidElement(o)){const n=Mt(o),d=Ft(l,o.props);return o.type!==i.Fragment&&(d.ref=r?le(r,n):n),i.cloneElement(o,d)}return i.Children.count(o)>1?i.Children.only(null):null});return s.displayName=`${t}.SlotClone`,s}var Dt=Symbol("radix.slottable");function At(t){return i.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Dt}function Ft(t,s){const a={...s};for(const r in s){const o=t[r],l=s[r];/^on[A-Z]/.test(r)?o&&l?a[r]=(...d)=>{const m=l(...d);return o(...d),m}:o&&(a[r]=o):r==="style"?a[r]={...o,...l}:r==="className"&&(a[r]=[o,l].filter(Boolean).join(" "))}return{...t,...a}}function Mt(t){let s=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,a=s&&"isReactWarning"in s&&s.isReactWarning;return a?t.ref:(s=Object.getOwnPropertyDescriptor(t,"ref")?.get,a=s&&"isReactWarning"in s&&s.isReactWarning,a?t.props.ref:t.props.ref||t.ref)}var K="Dialog",[de]=G(K),[Pt,R]=de(K),ce=t=>{const{__scopeDialog:s,children:a,open:r,defaultOpen:o,onOpenChange:l,modal:n=!0}=t,d=i.useRef(null),m=i.useRef(null),[x,u]=Y({prop:r,defaultProp:o??!1,onChange:l,caller:K});return e.jsx(Pt,{scope:s,triggerRef:d,contentRef:m,contentId:O(),titleId:O(),descriptionId:O(),open:x,onOpenChange:u,onOpenToggle:i.useCallback(()=>u(p=>!p),[u]),modal:n,children:a})};ce.displayName=K;var ue="DialogTrigger",Ot=i.forwardRef((t,s)=>{const{__scopeDialog:a,...r}=t,o=R(ue,a),l=F(s,o.triggerRef);return e.jsx(I.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Q(o.open),...r,ref:l,onClick:w(t.onClick,o.onOpenToggle)})});Ot.displayName=ue;var Z="DialogPortal",[$t,xe]=de(Z,{forceMount:void 0}),me=t=>{const{__scopeDialog:s,forceMount:a,children:r,container:o}=t,l=R(Z,s);return e.jsx($t,{scope:s,forceMount:a,children:i.Children.map(r,n=>e.jsx(W,{present:a||l.open,children:e.jsx(Ze,{asChild:!0,container:o,children:n})}))})};me.displayName=Z;var V="DialogOverlay",pe=i.forwardRef((t,s)=>{const a=xe(V,t.__scopeDialog),{forceMount:r=a.forceMount,...o}=t,l=R(V,t.__scopeDialog);return l.modal?e.jsx(W,{present:r||l.open,children:e.jsx(Bt,{...o,ref:s})}):null});pe.displayName=V;var Lt=Tt("DialogOverlay.RemoveScroll"),Bt=i.forwardRef((t,s)=>{const{__scopeDialog:a,...r}=t,o=R(V,a);return e.jsx(Je,{as:Lt,allowPinchZoom:!0,shards:[o.contentRef],children:e.jsx(I.div,{"data-state":Q(o.open),...r,ref:s,style:{pointerEvents:"auto",...r.style}})})}),_="DialogContent",fe=i.forwardRef((t,s)=>{const a=xe(_,t.__scopeDialog),{forceMount:r=a.forceMount,...o}=t,l=R(_,t.__scopeDialog);return e.jsx(W,{present:r||l.open,children:l.modal?e.jsx(Vt,{...o,ref:s}):e.jsx(Gt,{...o,ref:s})})});fe.displayName=_;var Vt=i.forwardRef((t,s)=>{const a=R(_,t.__scopeDialog),r=i.useRef(null),o=F(s,a.contentRef,r);return i.useEffect(()=>{const l=r.current;if(l)return Qe(l)},[]),e.jsx(he,{...t,ref:o,trapFocus:a.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:w(t.onCloseAutoFocus,l=>{l.preventDefault(),a.triggerRef.current?.focus()}),onPointerDownOutside:w(t.onPointerDownOutside,l=>{const n=l.detail.originalEvent,d=n.button===0&&n.ctrlKey===!0;(n.button===2||d)&&l.preventDefault()}),onFocusOutside:w(t.onFocusOutside,l=>l.preventDefault())})}),Gt=i.forwardRef((t,s)=>{const a=R(_,t.__scopeDialog),r=i.useRef(!1),o=i.useRef(!1);return e.jsx(he,{...t,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{t.onCloseAutoFocus?.(l),l.defaultPrevented||(r.current||a.triggerRef.current?.focus(),l.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:l=>{t.onInteractOutside?.(l),l.defaultPrevented||(r.current=!0,l.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const n=l.target;a.triggerRef.current?.contains(n)&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&o.current&&l.preventDefault()}})}),he=i.forwardRef((t,s)=>{const{__scopeDialog:a,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:l,...n}=t,d=R(_,a),m=i.useRef(null),x=F(s,m);return Xe(),e.jsxs(e.Fragment,{children:[e.jsx(et,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:l,children:e.jsx(tt,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":Q(d.open),...n,ref:x,onDismiss:()=>d.onOpenChange(!1)})}),e.jsxs(e.Fragment,{children:[e.jsx(qt,{titleId:d.titleId}),e.jsx(Ht,{contentRef:m,descriptionId:d.descriptionId})]})]})}),J="DialogTitle",Wt=i.forwardRef((t,s)=>{const{__scopeDialog:a,...r}=t,o=R(J,a);return e.jsx(I.h2,{id:o.titleId,...r,ref:s})});Wt.displayName=J;var be="DialogDescription",Kt=i.forwardRef((t,s)=>{const{__scopeDialog:a,...r}=t,o=R(be,a);return e.jsx(I.p,{id:o.descriptionId,...r,ref:s})});Kt.displayName=be;var ge="DialogClose",Ut=i.forwardRef((t,s)=>{const{__scopeDialog:a,...r}=t,o=R(ge,a);return e.jsx(I.button,{type:"button",...r,ref:s,onClick:w(t.onClick,()=>o.onOpenChange(!1))})});Ut.displayName=ge;function Q(t){return t?"open":"closed"}var ve="DialogTitleWarning",[Ts,Ne]=st(ve,{contentName:_,titleName:J,docsSlug:"dialog"}),qt=({titleId:t})=>{const s=Ne(ve),a=`\`${s.contentName}\` requires a \`${s.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${s.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${s.docsSlug}`;return i.useEffect(()=>{t&&(document.getElementById(t)||console.error(a))},[a,t]),null},zt="DialogDescriptionWarning",Ht=({contentRef:t,descriptionId:s})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Ne(zt).contentName}}.`;return i.useEffect(()=>{const o=t.current?.getAttribute("aria-describedby");s&&o&&(document.getElementById(s)||console.warn(r))},[r,t,s]),null},Yt=ce,Zt=me,Jt=pe,Qt=fe;function ae(t){const s=Xt(t),a=i.forwardRef((r,o)=>{const{children:l,...n}=r,d=i.Children.toArray(l),m=d.find(ts);if(m){const x=m.props.children,u=d.map(p=>p===m?i.Children.count(x)>1?i.Children.only(null):i.isValidElement(x)?x.props.children:null:p);return e.jsx(s,{...n,ref:o,children:i.isValidElement(x)?i.cloneElement(x,void 0,u):null})}return e.jsx(s,{...n,ref:o,children:l})});return a.displayName=`${t}.Slot`,a}function Xt(t){const s=i.forwardRef((a,r)=>{const{children:o,...l}=a;if(i.isValidElement(o)){const n=rs(o),d=ss(l,o.props);return o.type!==i.Fragment&&(d.ref=r?le(r,n):n),i.cloneElement(o,d)}return i.Children.count(o)>1?i.Children.only(null):null});return s.displayName=`${t}.SlotClone`,s}var es=Symbol("radix.slottable");function ts(t){return i.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===es}function ss(t,s){const a={...s};for(const r in s){const o=t[r],l=s[r];/^on[A-Z]/.test(r)?o&&l?a[r]=(...d)=>{const m=l(...d);return o(...d),m}:o&&(a[r]=o):r==="style"?a[r]={...o,...l}:r==="className"&&(a[r]=[o,l].filter(Boolean).join(" "))}return{...t,...a}}function rs(t){let s=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,a=s&&"isReactWarning"in s&&s.isReactWarning;return a?t.ref:(s=Object.getOwnPropertyDescriptor(t,"ref")?.get,a=s&&"isReactWarning"in s&&s.isReactWarning,a?t.props.ref:t.props.ref||t.ref)}function as(t){const s=t+"CollectionProvider",[a,r]=G(s),[o,l]=a(s,{collectionRef:{current:null},itemMap:new Map}),n=j=>{const{scope:f,children:v}=j,N=T.useRef(null),b=T.useRef(new Map).current;return e.jsx(o,{scope:f,itemMap:b,collectionRef:N,children:v})};n.displayName=s;const d=t+"CollectionSlot",m=ae(d),x=T.forwardRef((j,f)=>{const{scope:v,children:N}=j,b=l(d,v),h=F(f,b.collectionRef);return e.jsx(m,{ref:h,children:N})});x.displayName=d;const u=t+"CollectionItemSlot",p="data-radix-collection-item",g=ae(u),c=T.forwardRef((j,f)=>{const{scope:v,children:N,...b}=j,h=T.useRef(null),C=F(f,h),S=l(u,v);return T.useEffect(()=>(S.itemMap.set(h,{ref:h,...b}),()=>void S.itemMap.delete(h))),e.jsx(g,{[p]:"",ref:C,children:N})});c.displayName=u;function y(j){const f=l(t+"CollectionConsumer",j);return T.useCallback(()=>{const N=f.collectionRef.current;if(!N)return[];const b=Array.from(N.querySelectorAll(`[${p}]`));return Array.from(f.itemMap.values()).sort((S,A)=>b.indexOf(S.ref.current)-b.indexOf(A.ref.current))},[f.collectionRef,f.itemMap])}return[{Provider:n,Slot:x,ItemSlot:c},y,r]}var os=i.createContext(void 0);function je(t){const s=i.useContext(os);return t||s||"ltr"}var z="rovingFocusGroup.onEntryFocus",ns={bubbles:!1,cancelable:!0},L="RovingFocusGroup",[H,ke,ls]=as(L),[is,we]=G(L,[ls]),[ds,cs]=is(L),ye=i.forwardRef((t,s)=>e.jsx(H.Provider,{scope:t.__scopeRovingFocusGroup,children:e.jsx(H.Slot,{scope:t.__scopeRovingFocusGroup,children:e.jsx(us,{...t,ref:s})})}));ye.displayName=L;var us=i.forwardRef((t,s)=>{const{__scopeRovingFocusGroup:a,orientation:r,loop:o=!1,dir:l,currentTabStopId:n,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:m,onEntryFocus:x,preventScrollOnEntryFocus:u=!1,...p}=t,g=i.useRef(null),c=F(s,g),y=je(l),[j,f]=Y({prop:n,defaultProp:d??null,onChange:m,caller:L}),[v,N]=i.useState(!1),b=rt(x),h=ke(a),C=i.useRef(!1),[S,A]=i.useState(0);return i.useEffect(()=>{const k=g.current;if(k)return k.addEventListener(z,b),()=>k.removeEventListener(z,b)},[b]),e.jsx(ds,{scope:a,orientation:r,dir:y,loop:o,currentTabStopId:j,onItemFocus:i.useCallback(k=>f(k),[f]),onItemShiftTab:i.useCallback(()=>N(!0),[]),onFocusableItemAdd:i.useCallback(()=>A(k=>k+1),[]),onFocusableItemRemove:i.useCallback(()=>A(k=>k-1),[]),children:e.jsx(I.div,{tabIndex:v||S===0?-1:0,"data-orientation":r,...p,ref:c,style:{outline:"none",...t.style},onMouseDown:w(t.onMouseDown,()=>{C.current=!0}),onFocus:w(t.onFocus,k=>{const $e=!C.current;if(k.target===k.currentTarget&&$e&&!v){const ee=new CustomEvent(z,ns);if(k.currentTarget.dispatchEvent(ee),!ee.defaultPrevented){const q=h().filter(E=>E.focusable),Le=q.find(E=>E.active),Be=q.find(E=>E.id===j),Ve=[Le,Be,...q].filter(Boolean).map(E=>E.ref.current);Re(Ve,u)}}C.current=!1}),onBlur:w(t.onBlur,()=>N(!1))})})}),Ce="RovingFocusGroupItem",Ie=i.forwardRef((t,s)=>{const{__scopeRovingFocusGroup:a,focusable:r=!0,active:o=!1,tabStopId:l,children:n,...d}=t,m=O(),x=l||m,u=cs(Ce,a),p=u.currentTabStopId===x,g=ke(a),{onFocusableItemAdd:c,onFocusableItemRemove:y,currentTabStopId:j}=u;return i.useEffect(()=>{if(r)return c(),()=>y()},[r,c,y]),e.jsx(H.ItemSlot,{scope:a,id:x,focusable:r,active:o,children:e.jsx(I.span,{tabIndex:p?0:-1,"data-orientation":u.orientation,...d,ref:s,onMouseDown:w(t.onMouseDown,f=>{r?u.onItemFocus(x):f.preventDefault()}),onFocus:w(t.onFocus,()=>u.onItemFocus(x)),onKeyDown:w(t.onKeyDown,f=>{if(f.key==="Tab"&&f.shiftKey){u.onItemShiftTab();return}if(f.target!==f.currentTarget)return;const v=ps(f,u.orientation,u.dir);if(v!==void 0){if(f.metaKey||f.ctrlKey||f.altKey||f.shiftKey)return;f.preventDefault();let b=g().filter(h=>h.focusable).map(h=>h.ref.current);if(v==="last")b.reverse();else if(v==="prev"||v==="next"){v==="prev"&&b.reverse();const h=b.indexOf(f.currentTarget);b=u.loop?fs(b,h+1):b.slice(h+1)}setTimeout(()=>Re(b))}}),children:typeof n=="function"?n({isCurrentTabStop:p,hasTabStop:j!=null}):n})})});Ie.displayName=Ce;var xs={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ms(t,s){return s!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function ps(t,s,a){const r=ms(t.key,a);if(!(s==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(s==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return xs[r]}function Re(t,s=!1){const a=document.activeElement;for(const r of t)if(r===a||(r.focus({preventScroll:s}),document.activeElement!==a))return}function fs(t,s){return t.map((a,r)=>t[(s+r)%t.length])}var hs=ye,bs=Ie,U="Tabs",[gs]=G(U,[we]),Se=we(),[vs,X]=gs(U),Ee=i.forwardRef((t,s)=>{const{__scopeTabs:a,value:r,onValueChange:o,defaultValue:l,orientation:n="horizontal",dir:d,activationMode:m="automatic",...x}=t,u=je(d),[p,g]=Y({prop:r,onChange:o,defaultProp:l??"",caller:U});return e.jsx(vs,{scope:a,baseId:O(),value:p,onValueChange:g,orientation:n,dir:u,activationMode:m,children:e.jsx(I.div,{dir:u,"data-orientation":n,...x,ref:s})})});Ee.displayName=U;var Te="TabsList",_e=i.forwardRef((t,s)=>{const{__scopeTabs:a,loop:r=!0,...o}=t,l=X(Te,a),n=Se(a);return e.jsx(hs,{asChild:!0,...n,orientation:l.orientation,dir:l.dir,loop:r,children:e.jsx(I.div,{role:"tablist","aria-orientation":l.orientation,...o,ref:s})})});_e.displayName=Te;var De="TabsTrigger",Ae=i.forwardRef((t,s)=>{const{__scopeTabs:a,value:r,disabled:o=!1,...l}=t,n=X(De,a),d=Se(a),m=Pe(n.baseId,r),x=Oe(n.baseId,r),u=r===n.value;return e.jsx(bs,{asChild:!0,...d,focusable:!o,active:u,children:e.jsx(I.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":x,"data-state":u?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:m,...l,ref:s,onMouseDown:w(t.onMouseDown,p=>{!o&&p.button===0&&p.ctrlKey===!1?n.onValueChange(r):p.preventDefault()}),onKeyDown:w(t.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&n.onValueChange(r)}),onFocus:w(t.onFocus,()=>{const p=n.activationMode!=="manual";!u&&!o&&p&&n.onValueChange(r)})})})});Ae.displayName=De;var Fe="TabsContent",Me=i.forwardRef((t,s)=>{const{__scopeTabs:a,value:r,forceMount:o,children:l,...n}=t,d=X(Fe,a),m=Pe(d.baseId,r),x=Oe(d.baseId,r),u=r===d.value,p=i.useRef(u);return i.useEffect(()=>{const g=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(g)},[]),e.jsx(W,{present:o||u,children:({present:g})=>e.jsx(I.div,{"data-state":u?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":m,hidden:!g,id:x,tabIndex:0,...n,ref:s,style:{...t.style,animationDuration:p.current?"0s":void 0},children:g&&l})})});Me.displayName=Fe;function Pe(t,s){return`${t}-trigger-${s}`}function Oe(t,s){return`${t}-content-${s}`}var Ns=Ee,js=_e,ks=Ae,M=Me;const ws=({entry:t,isOpen:s,onClose:a,users:r,areas:o,equipmentMap:l})=>{const{t:n}=$(),[d,m]=i.useState("details");if(!t)return null;const x=r[t.createdById]||{name:"Unknown"},u=o[t.areaId]||{name:"Unknown"},p=l[t.equipmentId]||{label:"Unknown",kapNumber:"â€”"},g=c=>r[c]||{name:"Unknown",avatar:""};return e.jsx(Yt,{open:s,onOpenChange:c=>!c&&a(),children:e.jsxs(Zt,{children:[e.jsx(Jt,{className:"fixed inset-0 bg-slate-900/40 backdrop-blur-sm z-40 animate-in fade-in duration-200"}),e.jsxs(Qt,{className:"fixed left-[50%] top-[50%] z-50 grid w-full max-w-3xl translate-x-[-50%] translate-y-[-50%] gap-4 border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 p-0 shadow-2xl duration-200 animate-in zoom-in-95 sm:rounded-2xl h-[90vh] sm:h-[85vh] flex flex-col",children:[e.jsxs("div",{className:"flex-none px-6 py-5 border-b border-slate-100 dark:border-slate-800 flex items-start justify-between",children:[e.jsxs("div",{className:"pr-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("span",{className:"text-xs font-bold tracking-wider text-slate-400 uppercase",children:t.id}),e.jsx("span",{className:`px-2.5 py-0.5 rounded-full text-[10px] font-bold uppercase tracking-wide border ${t.status==="open"?"bg-blue-50 text-blue-600 border-blue-100":t.status==="completed"?"bg-emerald-50 text-emerald-600 border-emerald-100":"bg-slate-100 text-slate-600 border-slate-200"}`,children:n(`entries.${t.status}`)})]}),e.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white leading-snug",children:t.title})]}),e.jsx("button",{onClick:a,className:"p-2 -mr-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-500 transition-colors",children:e.jsx(oe,{className:"w-5 h-5"})})]}),e.jsxs(Ns,{value:d,onValueChange:m,className:"flex-1 flex flex-col min-h-0",children:[e.jsx("div",{className:"flex-none px-6 border-b border-slate-100 dark:border-slate-800",children:e.jsx(js,{className:"flex gap-6",children:[{id:"details",label:n("entries.details"),icon:te},{id:"attachments",label:`${n("entries.attachments")} (${t.attachments?.length||0})`,icon:P},{id:"checklist",label:n("entries.checklist"),icon:se},{id:"comments",label:n("entries.comments"),icon:ie},{id:"history",label:n("entries.history"),icon:vt}].map(c=>e.jsxs(ks,{value:c.id,className:`group flex items-center gap-2 py-4 text-sm font-medium border-b-2 transition-all ${d===c.id?"border-indigo-500 text-indigo-600 dark:text-indigo-400":"border-transparent text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200"}`,children:[e.jsx(c.icon,{className:`w-4 h-4 ${d===c.id?"text-indigo-500":"text-slate-400 group-hover:text-slate-500"}`}),c.label]},c.id))})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6 bg-slate-50/50 dark:bg-slate-900/50",children:[e.jsxs(M,{value:"details",className:"space-y-6 outline-none animate-in fade-in slide-in-from-bottom-2 duration-300",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 rounded-xl bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700/50",children:[e.jsx("div",{className:"text-xs font-medium text-slate-400 uppercase tracking-wider mb-1",children:n("entries.area")}),e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-slate-700 dark:text-slate-200",children:[e.jsx(jt,{className:"w-4 h-4 text-slate-400"}),u.name]})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700/50",children:[e.jsx("div",{className:"text-xs font-medium text-slate-400 uppercase tracking-wider mb-1",children:n("entries.equipment")}),e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-slate-700 dark:text-slate-200",children:[e.jsx(It,{className:"w-4 h-4 text-slate-400"}),p.label," ",e.jsxs("span",{className:"text-slate-400 font-normal",children:["(",p.kapNumber,")"]})]})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700/50",children:[e.jsx("div",{className:"text-xs font-medium text-slate-400 uppercase tracking-wider mb-1",children:n("filters.assignedTo")}),e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-slate-700 dark:text-slate-200",children:[e.jsx(mt,{className:"w-4 h-4 text-slate-400"}),g(t.assignedToId)?.name||"Unassigned"]})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700/50",children:[e.jsx("div",{className:"text-xs font-medium text-slate-400 uppercase tracking-wider mb-1",children:n("entries.dueDate")}),e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-slate-700 dark:text-slate-200",children:[e.jsx(te,{className:"w-4 h-4 text-slate-400"}),t.dueAt?B(t.dueAt):"No due date"]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700/50 rounded-xl p-5",children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-900 dark:text-white mb-3",children:n("entries.description")}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 leading-relaxed whitespace-pre-line",children:t.description})]}),e.jsx("div",{className:"flex items-center gap-2 text-xs text-slate-400 pt-4 border-t border-slate-200 dark:border-slate-800",children:e.jsxs("span",{children:["Created by ",x.name," on ",B(t.createdAt)]})})]}),e.jsx(M,{value:"attachments",className:"outline-none animate-in fade-in slide-in-from-bottom-2 duration-300",children:t.attachments&&t.attachments.length>0?e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4",children:[t.attachments.map(c=>e.jsxs("div",{className:"group relative aspect-square rounded-xl bg-slate-100 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 overflow-hidden cursor-pointer hover:ring-2 ring-indigo-500 transition-all",children:[c.type==="image"?e.jsx("img",{src:"https://picsum.photos/400/400",alt:c.filename,className:"w-full h-full object-cover"}):e.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center p-4 text-center",children:[e.jsx(P,{className:"w-8 h-8 text-slate-400 mb-2"}),e.jsx("span",{className:"text-xs font-medium text-slate-600 dark:text-slate-300 break-all line-clamp-2",children:c.filename})]}),e.jsxs("div",{className:"absolute inset-x-0 bottom-0 bg-black/60 backdrop-blur-md p-2 translate-y-full group-hover:translate-y-0 transition-transform",children:[e.jsx("p",{className:"text-[10px] text-white truncate",children:c.filename}),e.jsx("p",{className:"text-[9px] text-slate-300",children:pt(c.sizeBytes)})]})]},c.id)),e.jsxs("div",{className:"aspect-square rounded-xl border-2 border-dashed border-slate-300 dark:border-slate-700 flex flex-col items-center justify-center text-slate-400 hover:border-indigo-400 hover:text-indigo-500 hover:bg-indigo-50 dark:hover:bg-indigo-500/10 transition-colors cursor-pointer",children:[e.jsx(P,{className:"w-6 h-6 mb-1"}),e.jsx("span",{className:"text-xs font-medium",children:"Add File"})]})]}):e.jsxs("div",{className:"text-center py-12 text-slate-400",children:[e.jsx(P,{className:"w-12 h-12 mx-auto mb-3 text-slate-300 dark:text-slate-700"}),e.jsx("p",{children:"No attachments yet"})]})}),e.jsx(M,{value:"checklist",className:"outline-none animate-in fade-in slide-in-from-bottom-2 duration-300",children:e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 overflow-hidden",children:t.checklist&&t.checklist.length>0?e.jsx("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:t.checklist.map(c=>e.jsxs("div",{className:"flex items-center gap-3 p-4 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:[e.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center ${c.isDone?"bg-emerald-500 border-emerald-500 text-white":"border-slate-300 dark:border-slate-600"}`,children:c.isDone&&e.jsx(se,{className:"w-3.5 h-3.5"})}),e.jsx("span",{className:`text-sm ${c.isDone?"text-slate-400 line-through":"text-slate-700 dark:text-slate-200"}`,children:c.text})]},c.id))}):e.jsx("div",{className:"p-8 text-center text-sm text-slate-500",children:"No checklist items."})})}),e.jsxs(M,{value:"comments",className:"outline-none flex flex-col h-[400px] animate-in fade-in slide-in-from-bottom-2 duration-300",children:[e.jsx("div",{className:"flex-1 overflow-y-auto space-y-4 pr-2 mb-4",children:t.comments&&t.comments.length>0?t.comments.map(c=>e.jsxs("div",{className:"flex gap-3",children:[e.jsx("img",{src:g(c.authorId).avatar,className:"w-8 h-8 rounded-full border border-slate-200",alt:""}),e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 p-3 rounded-tr-xl rounded-br-xl rounded-bl-xl border border-slate-100 dark:border-slate-700 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-xs font-bold text-slate-900 dark:text-white",children:g(c.authorId).name}),e.jsx("span",{className:"text-[10px] text-slate-400",children:B(c.timestamp)})]}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:c.body})]})})]},c.id)):e.jsx("div",{className:"text-center py-8 text-slate-400 text-sm",children:"No comments yet. Start the conversation!"})}),e.jsxs("div",{className:"flex gap-2 items-center bg-white dark:bg-slate-800 p-2 rounded-xl border border-slate-200 dark:border-slate-700",children:[e.jsx("input",{type:"text",placeholder:"Write a comment...",className:"flex-1 bg-transparent border-none focus:ring-0 text-sm px-3 py-2 text-slate-900 dark:text-white placeholder:text-slate-400"}),e.jsx("button",{className:"p-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:e.jsx(yt,{className:"w-4 h-4"})})]})]}),e.jsx(M,{value:"history",className:"outline-none animate-in fade-in slide-in-from-bottom-2 duration-300",children:e.jsx("div",{className:"relative border-l-2 border-slate-200 dark:border-slate-700 ml-3 space-y-6",children:t.history&&t.history.map(c=>e.jsxs("div",{className:"relative pl-6",children:[e.jsx("div",{className:"absolute -left-[9px] top-1.5 w-4 h-4 rounded-full bg-white dark:bg-slate-900 border-2 border-slate-300 dark:border-slate-600"}),e.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mb-0.5",children:B(c.timestamp)}),e.jsx("div",{className:"text-sm font-medium text-slate-900 dark:text-white",children:c.action}),e.jsxs("div",{className:"text-xs text-slate-500",children:["by ",g(c.userId).name]})]},c.id))})})]})]}),e.jsxs("div",{className:"flex-none p-4 border-t border-slate-100 dark:border-slate-800 bg-slate-50/80 dark:bg-slate-900/80 backdrop-blur flex justify-end gap-3",children:[e.jsx("button",{onClick:a,className:"px-4 py-2 rounded-lg text-sm font-medium text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-800 transition-colors",children:n("common.close")}),e.jsx("button",{className:"px-4 py-2 rounded-lg text-sm font-medium bg-indigo-600 text-white hover:bg-indigo-700 shadow-lg shadow-indigo-200 dark:shadow-none transition-all",children:n("common.edit")})]})]})]})})},ys=["open","in_progress","completed"],Cs=({searchQuery:t,setSearchQuery:s,activeFilters:a,setActiveFilters:r})=>{const{t:o}=$(),l=(n,d)=>{if(a[n]===d){const m={...a};delete m[n],r(m)}else r({...a,[n]:d})};return e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ft,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx("input",{type:"text",placeholder:o("header.searchPlaceholder")||"Search entries...",value:t,onChange:n=>s(n.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-sm text-slate-900 dark:text-white placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-indigo-500/50 transition-shadow"})]}),e.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto pb-2 sm:pb-0 no-scrollbar",children:[ys.map(n=>e.jsxs("button",{onClick:()=>l("status",n),className:`flex items-center gap-2 px-3 py-2 rounded-lg border text-xs font-medium whitespace-nowrap transition-all ${a.status===n?"bg-indigo-600 border-indigo-600 text-white shadow-md shadow-indigo-200 dark:shadow-none":"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-300 hover:border-indigo-300 dark:hover:border-indigo-700"}`,children:[o(`entries.${n}`),a.status===n&&e.jsx(oe,{className:"w-3 h-3"})]},n)),e.jsx("div",{className:"w-px h-6 bg-slate-200 dark:bg-slate-700 mx-1"}),e.jsxs("button",{className:"flex items-center gap-2 px-3 py-2 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-xs font-medium text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:[e.jsx(at,{className:"w-3.5 h-3.5"}),e.jsx("span",{children:"All Filters"})]})]})]})})};function _s(){const{t,i18n:s}=$(),[a,r]=i.useState(()=>(localStorage.getItem("v8-theme")||"light")==="dark"),o=()=>{r(h=>{const C=!h;return localStorage.setItem("v8-theme",C?"dark":"light"),C})},[l,n]=i.useState(""),[d,m]=i.useState({}),[x,u]=i.useState(null),[p,g]=i.useState(!1),c=ot(s.language),y=c.entries,j=c.users,f=c.areas,v=c.equipment,N=i.useMemo(()=>y.filter(h=>{const C=!l||h.title.toLowerCase().includes(l.toLowerCase())||h.description.toLowerCase().includes(l.toLowerCase()),S=!d.status||d.status===h.status,A=!d.priority||d.priority===h.priority,k=!d.type||d.type===h.type;return C&&S&&A&&k}),[l,d,y]),b=i.useMemo(()=>y.find(h=>h.id===x),[x,y]);return e.jsxs("div",{className:`${a?"dark":""} h-screen w-full flex flex-col overflow-hidden bg-slate-50 dark:bg-slate-900 transition-colors duration-300`,children:[e.jsx(Rt,{isDark:a,onToggleTheme:o,isMobileMenuOpen:p,setIsMobileMenuOpen:g,children:e.jsxs("div",{className:"flex flex-col h-full max-w-7xl mx-auto w-full",children:[e.jsxs("div",{className:"flex-none px-4 py-4 md:px-6 space-y-4",children:[e.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white tracking-tight",children:t("header.title")}),e.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[N.length," ",N.length===1?"entry":"entries"," visible"]})]})}),e.jsx(Cs,{searchQuery:l,setSearchQuery:n,activeFilters:d,setActiveFilters:m})]}),e.jsx("div",{className:"flex-1 min-h-0 px-4 md:px-6 pb-4",children:e.jsx(Et,{entries:N,onSelectEntry:u,users:j,areas:f})})]})}),e.jsx(ws,{entry:b,isOpen:!!x,onClose:()=>u(null),users:j,areas:f,equipmentMap:v})]})}export{_s as default};
